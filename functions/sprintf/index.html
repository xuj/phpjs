
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript sprintf function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript sprintf function A JavaScript equivalent of PHP&#8217;s sprintf strings/sprintf.js raw on github 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/sprintf/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <a target="_blank" href="https://github.com/kvz/phpjs">
    <img id="fork-us" style="position: fixed; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
  </a>
  <header role="banner"><hgroup>
  <div id="logo">
    <h1><a href="/">php.js</a></h1>
  	<div class="clear"></div>
  </div>

  
    <h2>A resource of php functions in JavaScript</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript sprintf function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s sprintf</p>

<figure class='code'><figcaption><span>strings/sprintf.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/strings/sprintf.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">sprintf</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Ash Searle (http://hexmen.com/blog/)</span>
</span><span class='line'>  <span class="c1">// + namespaced by: Michael White (http://getsprink.com)</span>
</span><span class='line'>  <span class="c1">// +    tweaked by: Jack</span>
</span><span class='line'>  <span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +      input by: Paulo Freitas</span>
</span><span class='line'>  <span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +      input by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Dj</span>
</span><span class='line'>  <span class="c1">// +   improved by: Allidylls</span>
</span><span class='line'>  <span class="c1">// *     example 1: sprintf(&quot;%01.2f&quot;, 123.1);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: 123.10</span>
</span><span class='line'>  <span class="c1">// *     example 2: sprintf(&quot;[%10s]&quot;, &#39;monkey&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 2: &#39;[    monkey]&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 3: sprintf(&quot;[%&#39;#10s]&quot;, &#39;monkey&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 3: &#39;[####monkey]&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 4: sprintf(&quot;%d&quot;, 123456789012345);</span>
</span><span class='line'>  <span class="c1">// *     returns 4: &#39;123456789012345&#39;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="sr">/%%|%(\d+\$)?([-+\&#39;#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">format</span> <span class="o">=</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// pad()</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">pad</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">chr</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chr</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">chr</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">padding</span> <span class="o">=</span> <span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="nx">len</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;&#39;</span> <span class="o">:</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">len</span> <span class="o">-</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="nx">chr</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">leftJustify</span> <span class="o">?</span> <span class="nx">str</span> <span class="o">+</span> <span class="nx">padding</span> <span class="o">:</span> <span class="nx">padding</span> <span class="o">+</span> <span class="nx">str</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// justify()</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">justify</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">,</span> <span class="nx">customPadChar</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">diff</span> <span class="o">=</span> <span class="nx">minWidth</span> <span class="o">-</span> <span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">diff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">leftJustify</span> <span class="o">||</span> <span class="o">!</span><span class="nx">zeroPad</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">value</span> <span class="o">=</span> <span class="nx">pad</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">customPadChar</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="o">+</span> <span class="nx">pad</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">diff</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="o">+</span> <span class="nx">value</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">prefix</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// formatBaseX()</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">formatBaseX</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">base</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// Note: casts negative numbers to positive ones</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">number</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">prefix</span> <span class="o">&amp;&amp;</span> <span class="nx">number</span> <span class="o">&amp;&amp;</span> <span class="p">{</span>
</span><span class='line'>      <span class="s1">&#39;2&#39;</span><span class="o">:</span> <span class="s1">&#39;0b&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="s1">&#39;8&#39;</span><span class="o">:</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="s1">&#39;16&#39;</span><span class="o">:</span> <span class="s1">&#39;0x&#39;</span>
</span><span class='line'>    <span class="p">}[</span><span class="nx">base</span><span class="p">]</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">value</span> <span class="o">=</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">pad</span><span class="p">(</span><span class="nx">number</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="nx">base</span><span class="p">),</span> <span class="nx">precision</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">justify</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// formatString()</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">formatString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">,</span> <span class="nx">customPadChar</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">precision</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">precision</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">justify</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">,</span> <span class="nx">customPadChar</span><span class="p">);</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// doFormat()</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">doFormat</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">substring</span><span class="p">,</span> <span class="nx">valueIndex</span><span class="p">,</span> <span class="nx">flags</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">number</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">prefix</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">method</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">textTransform</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">value</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">substring</span> <span class="o">===</span> <span class="s1">&#39;%%&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="s1">&#39;%&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// parse flags</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">leftJustify</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">positivePrefix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">zeroPad</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">prefixBaseX</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">customPadChar</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">flagsl</span> <span class="o">=</span> <span class="nx">flags</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">flags</span> <span class="o">&amp;&amp;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">flagsl</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">switch</span> <span class="p">(</span><span class="nx">flags</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">case</span> <span class="s1">&#39; &#39;</span><span class="o">:</span>
</span><span class='line'>        <span class="nx">positivePrefix</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="s1">&#39;+&#39;</span><span class="o">:</span>
</span><span class='line'>        <span class="nx">positivePrefix</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="s1">&#39;-&#39;</span><span class="o">:</span>
</span><span class='line'>        <span class="nx">leftJustify</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="s2">&quot;&#39;&quot;</span><span class="o">:</span>
</span><span class='line'>        <span class="nx">customPadChar</span> <span class="o">=</span> <span class="nx">flags</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="s1">&#39;0&#39;</span><span class="o">:</span>
</span><span class='line'>        <span class="nx">zeroPad</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="s1">&#39;#&#39;</span><span class="o">:</span>
</span><span class='line'>        <span class="nx">prefixBaseX</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// parameters may be null, undefined, empty-string or real valued</span>
</span><span class='line'>    <span class="c1">// we want to ignore null, undefined and empty-string values</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">minWidth</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">minWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">minWidth</span> <span class="o">===</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">minWidth</span> <span class="o">=</span> <span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">minWidth</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">minWidth</span> <span class="o">=</span> <span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="nx">minWidth</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">minWidth</span> <span class="o">=</span> <span class="o">+</span><span class="nx">minWidth</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Note: undocumented perl feature:</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">minWidth</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">minWidth</span> <span class="o">=</span> <span class="o">-</span><span class="nx">minWidth</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">leftJustify</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isFinite</span><span class="p">(</span><span class="nx">minWidth</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;sprintf: (minimum-)width must be finite&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">precision</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">precision</span> <span class="o">=</span> <span class="s1">&#39;fFeE&#39;</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span> <span class="mi">6</span> <span class="o">:</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="kc">undefined</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">precision</span> <span class="o">===</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">precision</span> <span class="o">=</span> <span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">precision</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">precision</span> <span class="o">=</span> <span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="nx">precision</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">precision</span> <span class="o">=</span> <span class="o">+</span><span class="nx">precision</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// grab value using valueIndex if required?</span>
</span><span class='line'>    <span class="nx">value</span> <span class="o">=</span> <span class="nx">valueIndex</span> <span class="o">?</span> <span class="nx">a</span><span class="p">[</span><span class="nx">valueIndex</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]</span> <span class="o">:</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;s&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatString</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">,</span> <span class="nx">customPadChar</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;c&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatString</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="o">+</span><span class="nx">value</span><span class="p">),</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;b&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatBaseX</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">prefixBaseX</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;o&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatBaseX</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="nx">prefixBaseX</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;x&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatBaseX</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="nx">prefixBaseX</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;X&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatBaseX</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="nx">prefixBaseX</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;u&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">formatBaseX</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">prefixBaseX</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">precision</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;i&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;d&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="nx">number</span> <span class="o">=</span> <span class="o">+</span><span class="nx">value</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">number</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">number</span> <span class="o">-</span> <span class="nx">number</span> <span class="o">%</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// Plain Math.round doesn&#39;t just truncate</span>
</span><span class='line'>      <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s1">&#39;-&#39;</span> <span class="o">:</span> <span class="nx">positivePrefix</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">value</span> <span class="o">=</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">pad</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">number</span><span class="p">)),</span> <span class="nx">precision</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">justify</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">);</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;e&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;E&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;f&#39;</span><span class="o">:</span> <span class="c1">// Should handle locales (as per setlocale)</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;F&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;g&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">case</span> <span class="s1">&#39;G&#39;</span><span class="o">:</span>
</span><span class='line'>      <span class="nx">number</span> <span class="o">=</span> <span class="o">+</span><span class="nx">value</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s1">&#39;-&#39;</span> <span class="o">:</span> <span class="nx">positivePrefix</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">method</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;toExponential&#39;</span><span class="p">,</span> <span class="s1">&#39;toFixed&#39;</span><span class="p">,</span> <span class="s1">&#39;toPrecision&#39;</span><span class="p">][</span><span class="s1">&#39;efg&#39;</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">type</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">())];</span>
</span><span class='line'>      <span class="nx">textTransform</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;toString&#39;</span><span class="p">,</span> <span class="s1">&#39;toUpperCase&#39;</span><span class="p">][</span><span class="s1">&#39;eEfFgG&#39;</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">];</span>
</span><span class='line'>      <span class="nx">value</span> <span class="o">=</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">number</span><span class="p">)[</span><span class="nx">method</span><span class="p">](</span><span class="nx">precision</span><span class="p">);</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">justify</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">leftJustify</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">zeroPad</span><span class="p">)[</span><span class="nx">textTransform</span><span class="p">]();</span>
</span><span class='line'>    <span class="k">default</span><span class="o">:</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">substring</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nx">format</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">regex</span><span class="p">,</span> <span class="nx">doFormat</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/strings/sprintf.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/strings/sprintf.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">sprintf</span><span class="p">(</span><span class="s2">&quot;%01.2f&quot;</span><span class="p">,</span> <span class="mf">123.1</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="mf">123.10</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 2</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">sprintf</span><span class="p">(</span><span class="s2">&quot;[%10s]&quot;</span><span class="p">,</span> <span class="s1">&#39;monkey&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;[    monkey]&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 3</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">sprintf</span><span class="p">(</span><span class="s2">&quot;[%&#39;#10s]&quot;</span><span class="p">,</span> <span class="s1">&#39;monkey&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;[####monkey]&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the strings extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/addcslashes">addcslashes</a></li>
<li><a href="/functions/addslashes">addslashes</a></li>
<li><a href="/functions/bin2hex">bin2hex</a></li>
<li><a href="/functions/chop">chop</a></li>
<li><a href="/functions/chr">chr</a></li>
<li><a href="/functions/chunk_split">chunk_split</a></li>
<li><a href="/functions/convert_cyr_string">convert_cyr_string</a></li>
<li><a href="/functions/convert_uuencode">convert_uuencode</a></li>
<li><a href="/functions/count_chars">count_chars</a></li>
<li><a href="/functions/crc32">crc32</a></li>
<li><a href="/functions/echo">echo</a></li>
<li><a href="/functions/explode">explode</a></li>
<li><a href="/functions/get_html_translation_table">get_html_translation_table</a></li>
<li><a href="/functions/html_entity_decode">html_entity_decode</a></li>
<li><a href="/functions/htmlentities">htmlentities</a></li>
<li><a href="/functions/htmlspecialchars">htmlspecialchars</a></li>
<li><a href="/functions/htmlspecialchars_decode">htmlspecialchars_decode</a></li>
<li><a href="/functions/implode">implode</a></li>
<li><a href="/functions/join">join</a></li>
<li><a href="/functions/lcfirst">lcfirst</a></li>
<li><a href="/functions/levenshtein">levenshtein</a></li>
<li><a href="/functions/localeconv">localeconv</a></li>
<li><a href="/functions/ltrim">ltrim</a></li>
<li><a href="/functions/md5">md5</a></li>
<li><a href="/functions/md5_file">md5_file</a></li>
<li><a href="/functions/metaphone">metaphone</a></li>
<li><a href="/functions/money_format">money_format</a></li>
<li><a href="/functions/nl2br">nl2br</a></li>
<li><a href="/functions/nl_langinfo">nl_langinfo</a></li>
<li><a href="/functions/number_format">number_format</a></li>
<li><a href="/functions/ord">ord</a></li>
<li><a href="/functions/parse_str">parse_str</a></li>
<li><a href="/functions/printf">printf</a></li>
<li><a href="/functions/quoted_printable_decode">quoted_printable_decode</a></li>
<li><a href="/functions/quoted_printable_encode">quoted_printable_encode</a></li>
<li><a href="/functions/quotemeta">quotemeta</a></li>
<li><a href="/functions/rtrim">rtrim</a></li>
<li><a href="/functions/setlocale">setlocale</a></li>
<li><a href="/functions/sha1">sha1</a></li>
<li><a href="/functions/sha1_file">sha1_file</a></li>
<li><a href="/functions/similar_text">similar_text</a></li>
<li><a href="/functions/soundex">soundex</a></li>
<li><a href="/functions/split">split</a></li>
<li><a href="/functions/sprintf">sprintf</a></li>
<li><a href="/functions/sscanf">sscanf</a></li>
<li><a href="/functions/str_getcsv">str_getcsv</a></li>
<li><a href="/functions/str_ireplace">str_ireplace</a></li>
<li><a href="/functions/str_pad">str_pad</a></li>
<li><a href="/functions/str_repeat">str_repeat</a></li>
<li><a href="/functions/str_replace">str_replace</a></li>
<li><a href="/functions/str_rot13">str_rot13</a></li>
<li><a href="/functions/str_shuffle">str_shuffle</a></li>
<li><a href="/functions/str_split">str_split</a></li>
<li><a href="/functions/str_word_count">str_word_count</a></li>
<li><a href="/functions/strcasecmp">strcasecmp</a></li>
<li><a href="/functions/strchr">strchr</a></li>
<li><a href="/functions/strcmp">strcmp</a></li>
<li><a href="/functions/strcoll">strcoll</a></li>
<li><a href="/functions/strcspn">strcspn</a></li>
<li><a href="/functions/strip_tags">strip_tags</a></li>
<li><a href="/functions/stripos">stripos</a></li>
<li><a href="/functions/stripslashes">stripslashes</a></li>
<li><a href="/functions/stristr">stristr</a></li>
<li><a href="/functions/strlen">strlen</a></li>
<li><a href="/functions/strnatcasecmp">strnatcasecmp</a></li>
<li><a href="/functions/strnatcmp">strnatcmp</a></li>
<li><a href="/functions/strncasecmp">strncasecmp</a></li>
<li><a href="/functions/strncmp">strncmp</a></li>
<li><a href="/functions/strpbrk">strpbrk</a></li>
<li><a href="/functions/strpos">strpos</a></li>
<li><a href="/functions/strrchr">strrchr</a></li>
<li><a href="/functions/strrev">strrev</a></li>
<li><a href="/functions/strripos">strripos</a></li>
<li><a href="/functions/strrpos">strrpos</a></li>
<li><a href="/functions/strspn">strspn</a></li>
<li><a href="/functions/strstr">strstr</a></li>
<li><a href="/functions/strtok">strtok</a></li>
<li><a href="/functions/strtolower">strtolower</a></li>
<li><a href="/functions/strtoupper">strtoupper</a></li>
<li><a href="/functions/strtr">strtr</a></li>
<li><a href="/functions/substr">substr</a></li>
<li><a href="/functions/substr_compare">substr_compare</a></li>
<li><a href="/functions/substr_count">substr_count</a></li>
<li><a href="/functions/substr_replace">substr_replace</a></li>
<li><a href="/functions/trim">trim</a></li>
<li><a href="/functions/ucfirst">ucfirst</a></li>
<li><a href="/functions/ucwords">ucwords</a></li>
<li><a href="/functions/vprintf">vprintf</a></li>
<li><a href="/functions/vsprintf">vsprintf</a></li>
<li><a href="/functions/wordwrap">wordwrap</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2012-09-19 03:23:45 <br />
@Brent: Sorry for the very late reply, but is the functionality you seek already a part of PHP? You are free to share extension ideas here, but we really try to stick with PHP behavior to maintain limits on our project scope.

@kernel: Thank you for the reference, but is there some functionality present in the other implementation which is not in ours?
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2012-09-18 16:28:11 <br />
@Dj: Fixed in Git, thanks!
<hr />


<strong>
Dj
</strong>
on 2012-08-08 23:28:13 <br />
Note that the regexp does not include the char &quot;F&quot; (uppercase), so expressions like &quot;%01.2F&quot; will not works.
The function is already done to process it, but it just was missed in the regexp so it is not captured.
<hr />


<strong>
Brent
</strong>
on 2011-09-29 02:49:33 <br />
As far as adding a thousands separator, I don&#8217;t think it is currently in the sprintf function code above.

However, this regex does it:
<pre><code>
s/\d{1,3}(?=(\d{3})+(?!\d))/$&amp;,/g
</code></pre>

This javascript code (based on the regex) does it:
<pre><code>

    function thousands (a){
    
     return a.replace (/\d{1,3}(?=(\d{3})+(?!\d))/g,&quot;$&amp;,&quot;);
     
    }
</code></pre>

The only flaw is that it will happily keep adding commas every three characters to the right of the decimal point as well as to the left.  So you have to apply it to only the integer side of the number.  It works fine as-is for integers and, for example, currency (which only has max 2 decimal places).

If you want to use another separator character than &quot;,&quot; make the change in the second argument to a.replace. 

I can&#8217;t quite see how to easily add this to the sprintf function (and also the usual flag to add the thousands separator is &#8216;, which is used for something else in the code above) but there is a start for anyone who like to do it.

Regex source is from: http://remysharp.com/2007/10/19/thousand-separator-regex/
<hr />


<strong>
<a href="http://blog.kukawski.pl" rel="nofollow">Rafa? Kukawski</a>
</strong>
on 2011-01-14 07:46:33 <br />
@Dj: Thanks for your feedback. I will add the fix today. 

BTW. The same can be done without the need to call parseInt and isNaN.

<pre><code>number = (+value) | 0;</code></pre>
+value casts the data to Number, | 0 drops floating point part and if the +value gives NaN, changes it to 0.
<hr />


<strong>
Dj
</strong>
on 2011-01-14 00:07:29 <br />
A suggest:

check the result of parseInt() function, and set it to 0 if is NaN

<pre><code>
case 'd':
                number = parseInt(+value, 10);
if (isNaN(number) {
    number = 0;
}
</code></pre>

so when a %d is replaced with a non integer value, the result is 0 instead of NaN like PHP do.

Example without check NaN:
result = sprintf(&#8216;Number is: %d&#8217;, &#8216;non numeric&#8217;);
//result is: &#8216;Number is NaN&#8217;


Example checking NaN:
result = sprintf(&#8216;Number is: %d&#8217;, &#8216;non numeric&#8217;);
//result is: &#8216;Number is 0&#8217;

try it in php and compare
<hr />


<strong>
<a href="http://www.btcomic.net/" rel="nofollow">kernel</a>
</strong>
on 2010-10-09 18:35:14 <br />
please consult this project, that will be helpful

http://www.diveintojavascript.com/projects/javascript-sprintf
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-08-30 04:59:41 <br />
@Sandro Franchi: Good catch&#8230; But shouldn&#8217;t it be:

<pre><code>if (precision !== undefined) {</code></pre>

? If it is as you had it, 0 will also be ignored.
<hr />


<strong>
<a href="http://alegua.com.ar" rel="nofollow">Sandro Franchi</a>
</strong>
on 2009-08-29 17:48:32 <br />
In Line 054

<pre><code>
if (precision != null) {...
</code></pre>

should be changed to 
<pre><code>
if (precision) {...
</code></pre>

because precision (when not used) is &quot;undefined&quot;, not null, also this helps to make the script validated by jslint.


<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-01-08 17:03:36 <br />
@ ejsanders: Very well, thank you!
<hr />


<strong>
<a href="http://cantorion.org" rel="nofollow">ejsanders</a>
</strong>
on 2009-01-08 12:29:19 <br />
Here is the related function vsprintf, which takes the arguments as an array (can be useful):

<pre><code>
function vsprintf(format, args) {
    return sprintf.apply(this, [format].concat(args));
}
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-12-01 09:13:31 <br />
@ Paulo Ricardo F. Santos: Fixed it, thanks for pointing that out.
<hr />


<strong>
Paulo Ricardo F. Santos
</strong>
on 2008-11-28 11:53:19 <br />
Hey, the current implementation misses the custom padding character:

<pre><code>printf(&amp;quot;[%'#10s]\n&amp;quot;,  $s); // use the custom padding character '#'</code></pre>

;)
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-11-09 14:28:59 <br />
@ David Portabella: I did some testing and as far as I can tell PHP itself does not support that notation. And a general rule of thumb for us is: if php doesn&#8217;t do it, we don&#8217;t either. This ensures maximum compatibilty. If I&#8217;m in error on this, let me know.
Otherwise, the function: number_format might be what you&#8217;re looking for.
<hr />


<strong>
Mike
</strong>
on 2008-11-09 12:57:29 <br />
If you want to serialize strings with multibyte chars (special chars) you must replace this line:

val = &quot;s:&quot; + mixed_value.length + &quot;:\&quot;&quot; + mixed_value + &quot;\&quot;&quot;;

with these:

var stringLen = encodeURIComponent(mixed_value).replace(/%../g, &#8216;x&#8217;).length
val = &quot;s:&quot; + stringLen + &quot;:\&quot;&quot; + mixed_value + &quot;\&quot;&quot;;
<hr />


<strong>
David Portabella
</strong>
on 2008-11-04 20:03:40 <br />
Hello,

Congratulations for this great library!!

one question,
Is it possible to specify a thousand separator for sprintf?

something like 
sprintf(&#8216;%,.2f&amp;quot;, 1234567.89) =&amp;gt; &amp;quot;1,234,567.89&amp;quot;


Regards,
DAvid
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/sprintf/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/sprintf/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/sprintf/index.html';
        var disqus_url = 'http://phpjs.org/functions/sprintf/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
