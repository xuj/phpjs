
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript empty function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript empty function A JavaScript equivalent of PHP&#8217;s empty var/empty.js raw on github 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/empty/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <a target="_blank" href="https://github.com/kvz/phpjs">
    <img id="fork-us" style="position: absolute; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
  </a>
  <header role="banner"><hgroup>
  <div id="logo">
    <h1><a href="/">php.js</a></h1>
  	<div class="clear"></div>
  </div>

  
  
    <h2>Learn how to do it in JavaScript. Explore boundaries porting languages. Enjoy functions that turn out to be useful.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript empty function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s empty</p>

<figure class='code'><figcaption><span>var/empty.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/var/empty.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">empty</span> <span class="p">(</span><span class="nx">mixed_var</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// Checks if the argument variable is empty</span>
</span><span class='line'>  <span class="c1">// undefined, null, false, number 0, empty string,</span>
</span><span class='line'>  <span class="c1">// string &quot;0&quot;, objects without properties and empty arrays</span>
</span><span class='line'>  <span class="c1">// are considered empty</span>
</span><span class='line'>  <span class="c1">//</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Philippe Baumann</span>
</span><span class='line'>  <span class="c1">// +      input by: Onno Marsman</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +      input by: LH</span>
</span><span class='line'>  <span class="c1">// +   improved by: Onno Marsman</span>
</span><span class='line'>  <span class="c1">// +   improved by: Francesco</span>
</span><span class='line'>  <span class="c1">// +   improved by: Marc Jansen</span>
</span><span class='line'>  <span class="c1">// +      input by: Stoyan Kyosev (http://www.svest.org/)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Rafal Kukawski</span>
</span><span class='line'>  <span class="c1">// *     example 1: empty(null);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: true</span>
</span><span class='line'>  <span class="c1">// *     example 2: empty(undefined);</span>
</span><span class='line'>  <span class="c1">// *     returns 2: true</span>
</span><span class='line'>  <span class="c1">// *     example 3: empty([]);</span>
</span><span class='line'>  <span class="c1">// *     returns 3: true</span>
</span><span class='line'>  <span class="c1">// *     example 4: empty({});</span>
</span><span class='line'>  <span class="c1">// *     returns 4: true</span>
</span><span class='line'>  <span class="c1">// *     example 5: empty({&#39;aFunc&#39; : function () { alert(&#39;humpty&#39;); } });</span>
</span><span class='line'>  <span class="c1">// *     returns 5: false</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">undef</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">len</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">emptyValues</span> <span class="o">=</span> <span class="p">[</span><span class="nx">undef</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">emptyValues</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">mixed_var</span> <span class="o">===</span> <span class="nx">emptyValues</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">mixed_var</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">mixed_var</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// TODO: should we check for own properties only?</span>
</span><span class='line'>      <span class="c1">//if (mixed_var.hasOwnProperty(key)) {</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>      <span class="c1">//}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/var/empty.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/var/empty.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">empty</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 2</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">empty</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 3</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">empty</span><span class="p">([]);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the var extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/doubleval">doubleval</a></li>
<li><a href="/functions/empty">empty</a></li>
<li><a href="/functions/floatval">floatval</a></li>
<li><a href="/functions/get_defined_vars">get_defined_vars</a></li>
<li><a href="/functions/get_resource_type">get_resource_type</a></li>
<li><a href="/functions/gettype">gettype</a></li>
<li><a href="/functions/import_request_variables">import_request_variables</a></li>
<li><a href="/functions/intval">intval</a></li>
<li><a href="/functions/is_array">is_array</a></li>
<li><a href="/functions/is_binary">is_binary</a></li>
<li><a href="/functions/is_bool">is_bool</a></li>
<li><a href="/functions/is_buffer">is_buffer</a></li>
<li><a href="/functions/is_callable">is_callable</a></li>
<li><a href="/functions/is_double">is_double</a></li>
<li><a href="/functions/is_float">is_float</a></li>
<li><a href="/functions/is_int">is_int</a></li>
<li><a href="/functions/is_integer">is_integer</a></li>
<li><a href="/functions/is_long">is_long</a></li>
<li><a href="/functions/is_null">is_null</a></li>
<li><a href="/functions/is_numeric">is_numeric</a></li>
<li><a href="/functions/is_object">is_object</a></li>
<li><a href="/functions/is_real">is_real</a></li>
<li><a href="/functions/is_resource">is_resource</a></li>
<li><a href="/functions/is_scalar">is_scalar</a></li>
<li><a href="/functions/is_string">is_string</a></li>
<li><a href="/functions/is_unicode">is_unicode</a></li>
<li><a href="/functions/isset">isset</a></li>
<li><a href="/functions/print_r">print_r</a></li>
<li><a href="/functions/serialize">serialize</a></li>
<li><a href="/functions/settype">settype</a></li>
<li><a href="/functions/strval">strval</a></li>
<li><a href="/functions/unserialize">unserialize</a></li>
<li><a href="/functions/var_dump">var_dump</a></li>
<li><a href="/functions/var_export">var_export</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
wHrOxPsVfW
</strong>
on 2012-09-13 03:17:27 <br />

<hr />


<strong>
David Lundgren
</strong>
on 2012-09-12 09:12:39 <br />
It would be nice to add the following otherwise date objects are always detected as being empty.

<pre><code>
    if (mixed_var instanceof Date) {
        return isNaN(Number(mixed_var));
    }
</code></pre>

Idea taken from http://frugalcoder.us/post/2010/02/15/js-is-empty.aspx
<hr />


<strong>
mildevivy
</strong>
on 2012-08-23 06:36:56 <br />

<hr />


<strong>
Rafal
</strong>
on 2012-06-21 09:27:00 <br />
@pabrams: thanks. I&#8217;ve modified the function to make it more readable and got rid of most lint warnings. Updated code available on github (https://raw.github.com/kvz/phpjs/master/functions/var/empty.js)
<hr />


<strong>
pabrams
</strong>
on 2012-06-21 03:52:09 <br />
Hi, for the first two js lint issues, try some carriage returns.  Line #26 will also be much easier to read, especially if you format it nicely.  Each new line after <pre><code>if (mixed_var === &quot;&quot;</code></pre> could start with a constant number of tabs and then <pre><code>|| mixed_var === </code></pre>.   How &#8216;bout that?   Personally, I find code like line #26 to be inexcusable because it&#8217;s a real pain to read, and very easy to avoid, if using a decent editor.
<hr />


<strong>
CymnMda
</strong>
on 2012-06-09 01:42:25 <br />
buy azithro http://zithromaxs.com/  zithromax stomach upset
<hr />


<strong>
CasiariwarSic
</strong>
on 2012-05-22 09:02:51 <br />

<hr />


<strong>
pletcherdgh
</strong>
on 2012-04-04 13:18:33 <br />

<hr />


<strong>
<a href="http://credit.sotatka.ru/" rel="nofollow">excemeexhaumP</a>
</strong>
on 2012-03-19 18:53:25 <br />
+1
<hr />


<strong>
carpinteyronyc
</strong>
on 2012-03-15 06:11:29 <br />

<hr />


<strong>
<a href="schemes-shop.com/shop/grundig_p37_060_service.html" rel="nofollow">Drug-Esota</a>
</strong>
on 2011-12-16 09:57:00 <br />

<hr />


<strong>
Sany-heem
</strong>
on 2011-11-19 15:50:39 <br />

<hr />


<strong>
Stephan
</strong>
on 2011-11-16 09:54:29 <br />
Hello,

When testing a Date-Object, it always returns true: it&#8217;s an object but has no keys.

No idea if this is the best solution. It works for me. I check if getMonth is available. Maybe there is a better way?

<pre><code>
if (typeof mixed_var == 'object') {
        for (key in mixed_var) {
            return false;
        }
        if (mixed_var.getMonth)
        {
          return false;
        }
        return true;
    }
</code></pre>
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2011-10-07 23:59:33 <br />
@max4ever: Sorry, I mean it returns false&#8211;it indicates it is non-empty.
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2011-10-07 23:58:19 <br />
@max4ever: I don&#8217;t know if you have any older version of the function or whether you were guessing that an array would not return &quot;object&quot; as a type (as it does in JavaScript even for arrays which are themselves objects), but in your example the empty() call returns true.
<hr />


<strong>
max4ever
</strong>
on 2011-10-07 12:42:50 <br />
I think checks for array should be added, it doesn&#8217;t work with 

<pre><code>
var my_ditta = new Array();

my_ditta['tasse'] = 1;
my_ditta['cartonaggio'] = 1;

empty(my_ditta); //=&gt; gives true, but it's obviously false
</code></pre>
<hr />


<strong>
<a href="http://pharmacyworldrx.com/" rel="nofollow">utenothence</a>
</strong>
on 2011-09-07 13:15:23 <br />

<hr />


<strong>
         l
</strong>
on 2011-08-02 04:14:40 <br />
lol
<hr />


<strong>
<a href="http://topbrandszone.com/" rel="nofollow">bitPlaftwat</a>
</strong>
on 2011-07-05 07:12:06 <br />

<hr />


<strong>
ProownCibbowl
</strong>
on 2011-07-04 21:25:24 <br />

<hr />


<strong>
Krinkle
</strong>
on 2010-10-23 22:48:58 <br />
The JSLint warning about for &quot;for in&quot; is quite correct.
If an array has prototypes it returns false (&quot;not empty&quot;).

To fix this, one can simply check the .length to be 0 strictly.

<pre><code>

function empty (v) {
    var key;
    if (v === &quot;&quot; || v === 0 || v === &quot;0&quot; || v === null || v === false || typeof v === 'undefined') {
        return true;
    }
    if (v.length === 0) {
        return true;
    }
    if (typeof v === 'object') {
        for (key in v) {
            return false;
        }
        return true;
    }
    return false;
}
</code></pre>
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2010-06-21 04:54:23 <br />
Kevin, I believe dmitriy means filtering via hasOwnProperty inside the for loop. I can make the change, but for this function I wonder whether some users might like to verify that the array/object is _really_ empty (including of prototype-inherited properties). Thoughts? Maybe add an ini_set() configuration option to allow both cases?
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2010-06-19 16:28:00 <br />
@ dmitriy kulichkin: Could you maybe provide an example?
<hr />


<strong>
dmitriy kulichkin
</strong>
on 2010-06-09 19:02:18 <br />
empty([]) will fail if we extend Array with some methods via prototype. I suppose we should check our keys do not to be function. Does it have a sense?
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-11-16 13:23:27 <br />
@Stoyan Kyosev: I committed a change at http://github.com/kvz/phpjs/commit/dd40b8850a29c0617a40c7ca5ed2ae90fd720a22 to use the &quot;typeof&quot; check, which doesn&#8217;t suffer from the same problem (nor will it encourage bad practices for those who see our code and don&#8217;t know why we&#8217;re doing it).  However, I&#8217;m not really sure it is justified to do this for all our other functions which test for it since 1) It takes up a little more space, and 2) JavaScript has quite a few ways for you to redefine things (e.g., var isNaN = 5;). Any opinions? But it doesn&#8217;t hurt, so there ya go&#8230; :) Thanks for the input&#8230;
<hr />


<strong>
<a href="http://www.svest.org" rel="nofollow">Stoyan Kyosev</a>
</strong>
on 2009-11-16 12:18:11 <br />
As noted in http://www.sitepoint.com/blogs/2009/11/12/google-closure-how-not-to-write-javascript/:

&quot;This function checks if a particular variable has a value defined. Or it does, unless a 3rd party script sets the global undefined variable to something else. &quot;
<pre><code>
var undefined = 5; 
</code></pre>

&quot;u might think that anyone who assigns a value to undefined deserves what they get, but the fix in this case is trivial: simply declare a local undefined variable for use within the function!simply declare a local undefined variable for use within the function!&quot;

function empty(val) { 
 var undefined; 
 return val !== undefined; 
}; 

I suggest to use this &quot;fix&quot; in the current implementation of &#8216;empty&#8217;.
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-04-14 12:38:54 <br />
@ Knoxius: Sometimes the most simple functions require the most insane JavaScript code. Seen echo ? ;)
<hr />


<strong>
Brett Zamir
</strong>
on 2009-04-13 07:23:21 <br />
@Knoxius, PHP.JS is treating objects as associative arrays, including ones without a length property, so that wouldn&#8217;t work for our project. We are also attempting to mimic PHP behavior fully for those familiar with PHP or wishing to use its approach. For example, your function would not consider any number to be non-empty, whereas PHP only considers 0 as such. Of course, your function might work just fine for your own purposes, but we&#8217;re trying to build a reliable, consistent API, and PHP is the standard to go by (if we just made our own decisions at every turn, there wouldn&#8217;t be much justification for sticking to PHP function names, as it&#8217;d probably just be more confusing for those who expected it to behave as in PHP).
<hr />


<strong>
<a href="http://knoxius.com/" rel="nofollow">Knoxius</a>
</strong>
on 2009-04-09 09:12:47 <br />
This version seems a bit complex for the mock-function. Couldn&#8217;t it be simpler by doing something like this:

<pre><code>
function empty(string) {
    if(string.length == 0) {
        return true;
    } else {
        return false;
    }
}
</code></pre>

It seems a lot simpler, and it still works perfectly fine.

Example:
<pre><code>
var myString = 'This is a string.';

if(empty(null)) { //Returns true
alert(&quot;It is empty.&quot;);
} else if(empty(myString)) { //Returns false
alert(&quot;It is not empty.&quot;);
}
</code></pre>

There could be something about your code that is better, but it seems a bit too complex for what it could be.
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-03-04 15:02:28 <br />
@ Marc Jansen: Fixed in svn, thank you!
<hr />


<strong>
<a href="http://selectoid.wordpress.com" rel="nofollow">Marc Jansen</a>
</strong>
on 2009-03-03 11:59:22 <br />
Nice work folks, but I think I found a bug: shouldn&#8217;t the following code yield &#8216;false&#8217;?

<pre><code>
var anObj = { 
  'aFunc' : function () { alert('humpty'); } 
}; 
alert( empty( anObj ) ); // alerts true, but the object contains an element 
</code></pre>

This is IMHO wrong for arrays as well:

<pre><code>
var anArr = [ 
  function () { alert( 'dumpty' ); } 
]; 
alert( empty( anArr ) ) ; // alerts true, but the array contains an element
</code></pre>

Named functions should behave the same.
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-02-11 02:39:23 <br />
@ Brett Zamir: wicked
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-02-10 08:59:02 <br />
If it&#8217;s all right, Kevin, I&#8217;ll change the text for !== &#8216;function&#8217; to be a test for whether o.hasOwnProperty(i). That solves the prototype problem (though even that might be considered non-empty) but avoids the current issue of considering this to be empty:  var o = {method:function(){}}
<hr />


<strong>
Brett Zamir
</strong>
on 2008-11-03 10:27:16 <br />
If you like, here&#8217;s a little bit cleaner and slightly safer implementation, I think:

<pre><code>
function create_function (args, code) {
    //$newfunc = create_function('$a,$b', 'return $a + $b;');
    // alert($newfunc(5, 4)); 
    var argmnts = [];   
    argmnts = args.split(/,\s*/);   
    return Function.apply(null, argmnts.concat(code));
}
</code></pre>

But if one just wishes an anonymous function, they can just do:

<pre><code>call_user_func_array(function(arg) {...}, $a);</code></pre>

or if they need a string

<pre><code>call_user_func_array(new Function($arg1, $code), $a);</code></pre>

For one behaving more like PHP in returning a global name for the new function:

<pre><code>
function create_function (args, code) {
    // $newfunc = create_function('$a,$b', 'return $a + $b;');
    // alert($newfunc); // 'lambda_1'
    // alert(     window[$newfunc](5, 3)    ); // 8 (need window to call it, since the PHP behavior is to return a string)

    var funcName = '';
    if (!this.php_js) {
        this.php_js = {};
    }
    if (!this.php_js.create_function_ct) {
        this.php_js.create_function_ct = 0;
    }
    this.php_js.create_function_ct++;   
    funcName = 'lambda_'+this.php_js.create_function_ct;

    eval(funcName+' = function (' + args + ') { ' +  code + '}');

    return funcName;
}
</code></pre>
<hr />


<strong>
<a href="www.integrasoftwae.it" rel="nofollow">Francesco</a>
</strong>
on 2008-10-26 13:46:37 <br />
If you extend the Array or Object prototype, empty([]) and empty({}) return true&#8230;

i&#8217;ve added
if (typeof mixed_var[key] !== &#8216;function&#8217; )
this test before returning false in the for cicle, thanks
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-10-06 16:49:26 <br />
@ Onno Marsman: Excellent thought and well executed Onno!
<hr />


<strong>
Onno Marsman
</strong>
on 2008-10-06 16:39:14 <br />
typeof array will be &#8216;object&#8217; so the check for &#8216;array&#8217; maxes no sense:

<pre><code>
function empty( mixed_var ) {
    if (mixed_var === &amp;quot;&amp;quot;
        || mixed_var === 0
        || mixed_var === &amp;quot;0&amp;quot;
        || mixed_var === null
        || mixed_var === false
        || mixed_var === undefined
        || (mixed_var instanceof Array &amp;amp;&amp;amp; mixed_var.length === 0)
    ) {
        return true;
    }
</code></pre>

Something else: what about empty({}) ?
If you consider {} an object as in PHP then it will never be empty. But I would never use it like that. It would make more sense to call empty({}) when {} could be considered as an associative array, and in that case it is empty and should return true:

<pre><code>
function empty( mixed_var ) {
    if (mixed_var === &amp;quot;&amp;quot;
        || mixed_var === 0
        || mixed_var === &amp;quot;0&amp;quot;
        || mixed_var === null
        || mixed_var === false
        || mixed_var === undefined
    ){
        return true;
    }
    if (typeof mixed_var == 'object') {
        for (var i in mixed_var) {
            return false;
        }
        return true;
    }
    return false;
}
</code></pre>
Note that in this implementation I removed the line that handles arrays because the section that takes care of objects handles this correctly for arrays anyway.
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-09-05 21:36:24 <br />
@ Onno Marsman: Thanks again man! Remember if you have a homepage or something, I can add it to the credit sections.
<hr />


<strong>
Onno Marsman
</strong>
on 2008-09-04 16:36:10 <br />
should also return true on undefined
<hr />


<strong>
IT
</strong>
on 2008-01-26 18:33:59 <br />
Awesome! Exactly what I needed ;)
<hr />


<strong>
<a href="http://selectoid.wordpress.com" rel="nofollow">Marc Jansen</a>
</strong>
on 2009-03-03 11:47:37 <br />
Nice work folks, but I think I found a bug:

shouldn&#8217;t the following code yield &#8216;false&#8217;?
<pre><code>
var anObj = {
   'aFunc' : function () { alert('humpty'); }
};
alert( empty(anObj) ) // alerts true, but the object contains an element
</code></pre>

// is IMHO wrong for arrays as well:
<pre><code>
var anArr = [
   function () { alert('humpty'); }
];
alert( empty(anArr) ) // alerts true, but the array contains an element
</code></pre>

Named functions should behave the same.
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/empty/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/empty/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/empty/index.html';
        var disqus_url = 'http://phpjs.org/functions/empty/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
