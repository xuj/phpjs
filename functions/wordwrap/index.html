
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript wordwrap function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript wordwrap function A JavaScript equivalent of PHP&#8217;s wordwrap strings/wordwrap.js raw on github 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/wordwrap/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <a target="_blank" href="https://github.com/kvz/phpjs">
    <img id="fork-us" style="position: fixed; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
  </a>
  <header role="banner"><hgroup>
  <div id="logo">
    <h1><a href="/">php.js</a></h1>
  	<div class="clear"></div>
  </div>

  
  
    <h2>Learn how to do it in JavaScript. Explore boundaries porting languages. Use functions that turn out to be useful.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript wordwrap function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s wordwrap</p>

<figure class='code'><figcaption><span>strings/wordwrap.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/strings/wordwrap.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">wordwrap</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">int_width</span><span class="p">,</span> <span class="nx">str_break</span><span class="p">,</span> <span class="nx">cut</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Nick Callen</span>
</span><span class='line'>  <span class="c1">// +    revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Sakimori</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Michael Grier</span>
</span><span class='line'>  <span class="c1">// *     example 1: wordwrap(&#39;Kevin van Zonneveld&#39;, 6, &#39;|&#39;, true);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: &#39;Kevin |van |Zonnev|eld&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 2: wordwrap(&#39;The quick brown fox jumped over the lazy dog.&#39;, 20, &#39;&lt;br /&gt;\n&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 2: &#39;The quick brown fox &lt;br /&gt;\njumped over the lazy&lt;br /&gt;\n dog.&#39;</span>
</span><span class='line'>  <span class="c1">// *     example 3: wordwrap(&#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 3: &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim \nveniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea \ncommodo consequat.&#39;</span>
</span><span class='line'>  <span class="c1">// PHP Defaults</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="p">((</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">?</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="mi">75</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">((</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">?</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;\n&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">((</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">)</span> <span class="o">?</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">:</span> <span class="kc">false</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">r</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">str</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">m</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\r\n|\n|\r/</span><span class="p">)).</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nx">s</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">m</span><span class="p">;</span> <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">j</span><span class="p">)</span> <span class="o">+</span> <span class="p">((</span><span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">j</span><span class="p">)).</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">b</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">j</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">||</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\S*(\s)?$/</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span> <span class="o">?</span> <span class="nx">m</span> <span class="o">:</span> <span class="nx">j</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">m</span> <span class="o">||</span> <span class="nx">j</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">m</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^\S*/</span><span class="p">)).</span><span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/strings/wordwrap.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/strings/wordwrap.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">wordwrap</span><span class="p">(</span><span class="s1">&#39;Kevin van Zonneveld&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;Kevin |van |Zonnev|eld&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 2</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">wordwrap</span><span class="p">(</span><span class="s1">&#39;The quick brown fox jumped over the lazy dog.&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;&lt;br /&gt;\n&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;The quick brown fox &lt;br /&gt;\njumped over the lazy&lt;br /&gt;\n dog.&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 3</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">wordwrap</span><span class="p">(</span><span class="s1">&#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="s1">&#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim \nveniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea \ncommodo consequat.&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the strings extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/addcslashes">addcslashes</a></li>
<li><a href="/functions/addslashes">addslashes</a></li>
<li><a href="/functions/bin2hex">bin2hex</a></li>
<li><a href="/functions/chop">chop</a></li>
<li><a href="/functions/chr">chr</a></li>
<li><a href="/functions/chunk_split">chunk_split</a></li>
<li><a href="/functions/convert_cyr_string">convert_cyr_string</a></li>
<li><a href="/functions/convert_uuencode">convert_uuencode</a></li>
<li><a href="/functions/count_chars">count_chars</a></li>
<li><a href="/functions/crc32">crc32</a></li>
<li><a href="/functions/echo">echo</a></li>
<li><a href="/functions/explode">explode</a></li>
<li><a href="/functions/get_html_translation_table">get_html_translation_table</a></li>
<li><a href="/functions/html_entity_decode">html_entity_decode</a></li>
<li><a href="/functions/htmlentities">htmlentities</a></li>
<li><a href="/functions/htmlspecialchars">htmlspecialchars</a></li>
<li><a href="/functions/htmlspecialchars_decode">htmlspecialchars_decode</a></li>
<li><a href="/functions/implode">implode</a></li>
<li><a href="/functions/join">join</a></li>
<li><a href="/functions/lcfirst">lcfirst</a></li>
<li><a href="/functions/levenshtein">levenshtein</a></li>
<li><a href="/functions/localeconv">localeconv</a></li>
<li><a href="/functions/ltrim">ltrim</a></li>
<li><a href="/functions/md5">md5</a></li>
<li><a href="/functions/md5_file">md5_file</a></li>
<li><a href="/functions/metaphone">metaphone</a></li>
<li><a href="/functions/money_format">money_format</a></li>
<li><a href="/functions/nl2br">nl2br</a></li>
<li><a href="/functions/nl_langinfo">nl_langinfo</a></li>
<li><a href="/functions/number_format">number_format</a></li>
<li><a href="/functions/ord">ord</a></li>
<li><a href="/functions/parse_str">parse_str</a></li>
<li><a href="/functions/printf">printf</a></li>
<li><a href="/functions/quoted_printable_decode">quoted_printable_decode</a></li>
<li><a href="/functions/quoted_printable_encode">quoted_printable_encode</a></li>
<li><a href="/functions/quotemeta">quotemeta</a></li>
<li><a href="/functions/rtrim">rtrim</a></li>
<li><a href="/functions/setlocale">setlocale</a></li>
<li><a href="/functions/sha1">sha1</a></li>
<li><a href="/functions/sha1_file">sha1_file</a></li>
<li><a href="/functions/similar_text">similar_text</a></li>
<li><a href="/functions/soundex">soundex</a></li>
<li><a href="/functions/split">split</a></li>
<li><a href="/functions/sprintf">sprintf</a></li>
<li><a href="/functions/sscanf">sscanf</a></li>
<li><a href="/functions/str_getcsv">str_getcsv</a></li>
<li><a href="/functions/str_ireplace">str_ireplace</a></li>
<li><a href="/functions/str_pad">str_pad</a></li>
<li><a href="/functions/str_repeat">str_repeat</a></li>
<li><a href="/functions/str_replace">str_replace</a></li>
<li><a href="/functions/str_rot13">str_rot13</a></li>
<li><a href="/functions/str_shuffle">str_shuffle</a></li>
<li><a href="/functions/str_split">str_split</a></li>
<li><a href="/functions/str_word_count">str_word_count</a></li>
<li><a href="/functions/strcasecmp">strcasecmp</a></li>
<li><a href="/functions/strchr">strchr</a></li>
<li><a href="/functions/strcmp">strcmp</a></li>
<li><a href="/functions/strcoll">strcoll</a></li>
<li><a href="/functions/strcspn">strcspn</a></li>
<li><a href="/functions/strip_tags">strip_tags</a></li>
<li><a href="/functions/stripos">stripos</a></li>
<li><a href="/functions/stripslashes">stripslashes</a></li>
<li><a href="/functions/stristr">stristr</a></li>
<li><a href="/functions/strlen">strlen</a></li>
<li><a href="/functions/strnatcasecmp">strnatcasecmp</a></li>
<li><a href="/functions/strnatcmp">strnatcmp</a></li>
<li><a href="/functions/strncasecmp">strncasecmp</a></li>
<li><a href="/functions/strncmp">strncmp</a></li>
<li><a href="/functions/strpbrk">strpbrk</a></li>
<li><a href="/functions/strpos">strpos</a></li>
<li><a href="/functions/strrchr">strrchr</a></li>
<li><a href="/functions/strrev">strrev</a></li>
<li><a href="/functions/strripos">strripos</a></li>
<li><a href="/functions/strrpos">strrpos</a></li>
<li><a href="/functions/strspn">strspn</a></li>
<li><a href="/functions/strstr">strstr</a></li>
<li><a href="/functions/strtok">strtok</a></li>
<li><a href="/functions/strtolower">strtolower</a></li>
<li><a href="/functions/strtoupper">strtoupper</a></li>
<li><a href="/functions/strtr">strtr</a></li>
<li><a href="/functions/substr">substr</a></li>
<li><a href="/functions/substr_compare">substr_compare</a></li>
<li><a href="/functions/substr_count">substr_count</a></li>
<li><a href="/functions/substr_replace">substr_replace</a></li>
<li><a href="/functions/trim">trim</a></li>
<li><a href="/functions/ucfirst">ucfirst</a></li>
<li><a href="/functions/ucwords">ucwords</a></li>
<li><a href="/functions/vprintf">vprintf</a></li>
<li><a href="/functions/vsprintf">vsprintf</a></li>
<li><a href="/functions/wordwrap">wordwrap</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
Alex
</strong>
on 2012-07-14 13:37:06 <br />
Nice work so far; I have found just a little bug: If a line is exactly as long as str_length, the space will be carried to the next line and will cause an indentation of the following line.
<hr />


<strong>
Cristiano Santos
</strong>
on 2012-04-19 17:32:49 <br />
Just forget my last comment.

The error was mine and not from the function&#8230; Sorry&#8230;
<hr />


<strong>
Cristiano Santos
</strong>
on 2012-04-19 17:23:55 <br />
There&#8217;s a problem with the &quot;wordwrap&quot; function&#8230; Some string&#8217;s don&#8217;t break well.

Example:

<pre><code>wordwrap(&quot;Uma nova password foi enviada por E-mail.&quot;, 28, '|', true);</code></pre>

Expected:
&quot;Uma nova password foi |enviada por E-mail.&quot;

Result: 
&quot;Uma nova password foi |enviada por |E-mail.&quot;
<hr />


<strong>
<a href="http://an3m1.com/" rel="nofollow">????? ????? ????</a>
</strong>
on 2012-04-10 09:51:06 <br />
This is a very informative article. I was looking for these things and here I found it. I am doing a project and this information is very useful me. Some things in here I have not thought about before 
<hr />


<strong>
altaf
</strong>
on 2010-02-22 07:22:00 <br />
$(document).ready(function(){if($(&quot;input[name=modeofpayment]:radio&quot;)){$(&quot;input[name=modeofpayment]:radio&quot;).attr(&quot;checked&quot;,&quot;&quot;);}$(&quot;form&quot;).each(function(){var a=$(this);a.submit(function(){a.find(&quot;input[type=&#8217;image&#8217;],input[type=&#8217;submit&#8217;]&quot;).attr(&quot;disabled&quot;,&quot;true&quot;);});});});function showHide(b,a){if(b!=&quot;MasterCardVisa&quot;){$(&quot;.redborder&quot;).removeClass(&quot;redborder&quot;);}$(&quot;#cluetip&quot;).css(&quot;display&quot;,&quot;none&quot;);$(&quot;#mainerror&quot;).hide(&quot;fast&quot;);$(&quot;.displaydiv&quot;).not(&quot;#&quot;+b).hide(&quot;fast&quot;);$(&quot;#&quot;+b).show(&quot;slow&quot;);$(&quot;.greenshade&quot;).not(&quot;#&quot;+a).removeClass(&quot;left big greenshade&quot;).addClass(&quot;left big yellowshade&quot;);$(&quot;#&quot;+a).addClass(&quot;left big greenshade&quot;);}function print_page(a){win=window.open(a);}function populatecity(){var a=$(&quot;#citydis&quot;).val();if(a==&quot;&quot;){alert(&quot;Please select your city&quot;);return false;}else{document.getElementById(&quot;city&quot;).value=a;document.getElementById(&quot;addresstable&quot;).style.display=&quot;block&quot;;document.getElementById(&quot;citydiv&quot;).style.display=&quot;none&quot;;}}$(document).ready(function(){$(&quot;.bluelink&quot;).cluetip({activation:&quot;click&quot;,sticky:true,arrows:true,cluetipClass:&quot;rounded&quot;,dropShadow:false,ajaxCache:true,closeText:&quot;Close X&quot;,onShow:function(){var a=$(&quot;#cluetip&quot;).height();var b=$(&quot;#cluetip-arrows&quot;).position();if(b.top&lt;20){$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows-white&quot;);}else{if(a&gt;500&amp;&amp;b.top&lt;400){$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows-white&quot;);}else{$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows&quot;);}}}});$(&quot;.bluelinkfront&quot;).cluetip({activation:&quot;click&quot;,sticky:true,arrows:true,cluetipClass:&quot;rounded&quot;,dropShadow:false,ajaxCache:true,width:316,positionBy:&quot;bottomTop&quot;,closeText:&quot;Close X&quot;,onShow:function(){$(&quot;#hint2&quot;).hide();$(&quot;#tooltip&quot;).hide();}});$(&quot;.bluelinklpop&quot;).cluetip({activation:&quot;click&quot;,sticky:true,arrows:true,cluetipClass:&quot;rounded&quot;,dropShadow:false,ajaxCache:true,width:387,closeText:&quot;Close X&quot;,onShow:function(){$(&quot;#hint2&quot;).hide();$(&quot;#tooltip&quot;).hide();var a=$(&quot;#cluetip&quot;).height();var b=$(&quot;#cluetip-arrows&quot;).position();if(b.top&lt;20){$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows-white&quot;);}else{if(a&gt;400&amp;&amp;b.top&lt;420){$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows-white&quot;);}else{if(a&gt;200&amp;&amp;b.top&lt;150){$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows-white&quot;);}else{$(&quot;#cluetip-arrows&quot;).removeClass();$(&quot;#cluetip-arrows&quot;).addClass(&quot;cluetip-arrows&quot;);}}}}});});function submitForm(b){var a=&quot;/payment/validate&quot;;$(&quot;#processing&quot;).empty().html(&#8216;&lt;img src=&quot;/images/wait.gif&quot; /&gt; &amp;nbsp;&amp;nbsp; Processing Request &#8230;.&#8217;);$.getJSON(a,{cardhname:$(&quot;#cardhname&quot;).val(),ccno1:$(&quot;#ccno1&quot;).val(),ccno2:$(&quot;#ccno2&quot;).val(),ccno3:$(&quot;#ccno3&quot;).val(),ccno4:$(&quot;#ccno4&quot;).val(),month:$(&quot;#month&quot;).val(),year:$(&quot;#year&quot;).val(),cvv:$(&quot;#cvv&quot;).val(),ctype:$(&quot;input[name=cardtype]:checked&quot;).val()},function(d){$(&quot;#processing&quot;).hide();if(!d){b.submit();document.MasterCardVisa.reset();$(&quot;#cardhname&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno1&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno2&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno3&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno4&quot;).removeClass(&quot;redborder&quot;);$(&quot;#cvv&quot;).removeClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;cardtype-visa&#8217;]&quot;).removeClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;cardtype-mastercard&#8217;]&quot;).removeClass(&quot;redborder&quot;);$(&quot;#monthid&quot;).removeClass(&quot;redborder&quot;);$(&quot;#yearid&quot;).removeClass(&quot;redborder&quot;);}else{$(&quot;input[type=&#8217;image&#8217;]&quot;).removeAttr(&quot;disabled&quot;);var c=&quot;Please check the field marked in Red&lt;br&gt;&quot;;if(typeof(d.nameerror)!=&quot;undefined&quot;){$(&quot;#cardhname&quot;).addClass(&quot;redborder&quot;);c+=d.nameerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#cardhname&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.ccerror)!=&quot;undefined&quot;){$(&quot;#ccno1&quot;).addClass(&quot;redborder&quot;);$(&quot;#ccno2&quot;).addClass(&quot;redborder&quot;);$(&quot;#ccno3&quot;).addClass(&quot;redborder&quot;);$(&quot;#ccno4&quot;).addClass(&quot;redborder&quot;);c+=d.ccerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#ccno1&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno2&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno3&quot;).removeClass(&quot;redborder&quot;);$(&quot;#ccno4&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.cvverror)!=&quot;undefined&quot;){$(&quot;#cvv&quot;).addClass(&quot;redborder&quot;);c+=d.cvverror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#cvv&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.ctypeerror)!=&quot;undefined&quot;){$(&quot;label[for=&#8217;cardtype-visa&#8217;]&quot;).addClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;cardtype-mastercard&#8217;]&quot;).addClass(&quot;redborder&quot;);c+=d.ctypeerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;label[for=&#8217;cardtype-visa&#8217;]&quot;).removeClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;cardtype-mastercard&#8217;]&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.montherror)!=&quot;undefined&quot;){$(&quot;#monthid&quot;).addClass(&quot;redborder&quot;);c+=d.montherror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#monthid&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.yearerror)!=&quot;undefined&quot;){$(&quot;#yearid&quot;).addClass(&quot;redborder&quot;);c+=d.yearerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#yearid&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.expiry)!=&quot;undefined&quot;){$(&quot;#monthid&quot;).addClass(&quot;redborder&quot;);$(&quot;#yearid&quot;).addClass(&quot;redborder&quot;);c+=d.expiry+&quot;&lt;br&gt;&quot;;}else{if(typeof(d.montherror)==&quot;undefined&quot;&amp;&amp;typeof(d.yearerror)==&quot;undefined&quot;){$(&quot;#monthid&quot;).removeClass(&quot;redborder&quot;);$(&quot;#yearid&quot;).removeClass(&quot;redborder&quot;);}}$(&quot;#mainerror&quot;).show();$(&quot;#error_div&quot;).html(c);self.location=&quot;#mainerror&quot;;}});return false;}function submitdebitForm(b){var a=&quot;/payment/validatedebitcard&quot;;$(&quot;#processing&quot;).empty().html(&#8216;&lt;img src=&quot;/images/wait.gif&quot; /&gt; &amp;nbsp;&amp;nbsp; Processing Request &#8230;.&#8217;);$.getJSON(a,{debitcardhname:$(&quot;#debitcardhname&quot;).val(),dccno1:$(&quot;#dccno1&quot;).val(),dccno2:$(&quot;#dccno2&quot;).val(),dccno3:$(&quot;#dccno3&quot;).val(),dccno4:$(&quot;#dccno4&quot;).val(),dmonth:$(&quot;#dmonth&quot;).val(),dyear:$(&quot;#dyear&quot;).val(),dcvv:$(&quot;#dcvv&quot;).val(),dctype:$(&quot;input[name=dcardtype]:checked&quot;).val(),bankname:$(&quot;#bank_name&quot;).val()},function(d){$(&quot;#processing&quot;).hide();if(!d){b.submit();document.DebitCard.reset();$(&quot;#debitcardhname&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno1&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno2&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno3&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno4&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dcvv&quot;).removeClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;dcardtype-visa&#8217;]&quot;).removeClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;dcardtype-mastercard&#8217;]&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dmonthid&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dyearid&quot;).removeClass(&quot;redborder&quot;);$(&quot;#bank_name&quot;).removeClass(&quot;redborder&quot;);}else{$(&quot;input[type=&#8217;image&#8217;]&quot;).removeAttr(&quot;disabled&quot;);var c=&quot;Please check the field marked in Red&lt;br&gt;&quot;;if(typeof(d.nameerror)!=&quot;undefined&quot;){$(&quot;#debitcardhname&quot;).addClass(&quot;redborder&quot;);c+=d.nameerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#debitcardhname&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.ccerror)!=&quot;undefined&quot;){$(&quot;#dccno1&quot;).addClass(&quot;redborder&quot;);$(&quot;#dccno2&quot;).addClass(&quot;redborder&quot;);$(&quot;#dccno3&quot;).addClass(&quot;redborder&quot;);$(&quot;#dccno4&quot;).addClass(&quot;redborder&quot;);c+=d.ccerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#dccno1&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno2&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno3&quot;).removeClass(&quot;redborder&quot;);$(&quot;#dccno4&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.cvverror)!=&quot;undefined&quot;){$(&quot;#dcvv&quot;).addClass(&quot;redborder&quot;);c+=d.cvverror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#dcvv&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.ctypeerror)!=&quot;undefined&quot;){$(&quot;label[for=&#8217;dcardtype-visa&#8217;]&quot;).addClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;dcardtype-mastercard&#8217;]&quot;).addClass(&quot;redborder&quot;);c+=d.ctypeerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;label[for=&#8217;dcardtype-visa&#8217;]&quot;).removeClass(&quot;redborder&quot;);$(&quot;label[for=&#8217;dcardtype-mastercard&#8217;]&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.montherror)!=&quot;undefined&quot;){$(&quot;#monthid&quot;).addClass(&quot;redborder&quot;);c+=d.montherror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#monthid&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.yearerror)!=&quot;undefined&quot;){$(&quot;#yearid&quot;).addClass(&quot;redborder&quot;);c+=d.yearerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#yearid&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.expiry)!=&quot;undefined&quot;){$(&quot;#monthid&quot;).addClass(&quot;redborder&quot;);$(&quot;#yearid&quot;).addClass(&quot;redborder&quot;);c+=d.expiry+&quot;&lt;br&gt;&quot;;}else{if(typeof(d.montherror)==&quot;undefined&quot;&amp;&amp;typeof(d.yearerror)==&quot;undefined&quot;){$(&quot;#monthid&quot;).removeClass(&quot;redborder&quot;);$(&quot;#yearid&quot;).removeClass(&quot;redborder&quot;);}}if(typeof(d.banknameerror)!=&quot;undefined&quot;){$(&quot;#bankname&quot;).addClass(&quot;redborder&quot;);c+=d.banknameerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#bankname&quot;).removeClass(&quot;redborder&quot;);}$(&quot;#mainerror&quot;).show();$(&quot;#error_div&quot;).html(c);self.location=&quot;#mainerror&quot;;}});return false;}function submitPickupform(b){var a=&quot;/payment/validatepickup&quot;;$(&quot;#processing&quot;).empty().html(&#8216;&lt;img src=&quot;/images/wait.gif&quot; /&gt; &amp;nbsp;&amp;nbsp; Processing Request &#8230;.&#8217;);$.getJSON(a,{name:$(&quot;#name&quot;).val(),address1:$(&quot;#address1&quot;).val(),email:$(&quot;#email&quot;).val(),telephoneoffice:$(&quot;#telephoneoffice&quot;).val(),telephoneres:$(&quot;#telephoneres&quot;).val(),mobile:$(&quot;#mobile&quot;).val(),city:$(&quot;#city&quot;).val()},function(d){$(&quot;#processing&quot;).hide();if(!d){b.action=&quot;/payment/payment&quot;;b.submit();}else{$(&quot;input[type=&#8217;image&#8217;]&quot;).removeAttr(&quot;disabled&quot;);var c=&quot;&lt;br&gt;Please check the field marked in Red&lt;br&gt;&quot;;if(typeof(d.nameerror)!=&quot;undefined&quot;){$(&quot;#name&quot;).addClass(&quot;redborder&quot;);c+=d.nameerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#name&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.emailerror)!=&quot;undefined&quot;){$(&quot;#email&quot;).addClass(&quot;redborder&quot;);c+=d.emailerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#email&quot;).removeClass(&quot;redborder2&quot;);}if(typeof(d.address1error)!=&quot;undefined&quot;){$(&quot;#address1&quot;).addClass(&quot;redborder&quot;);c+=d.address1error+&quot;&lt;br&gt;&quot;;}else{$(&quot;#address1&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.cityerror)!=&quot;undefined&quot;){$(&quot;#cityerr&quot;).addClass(&quot;redborder&quot;);c+=d.cityerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#cityerr&quot;).removeClass(&quot;redborder&quot;);}if(typeof(d.phoneerror)!=&quot;undefined&quot;){$(&quot;#telephoneoffice&quot;).addClass(&quot;redborder&quot;);c+=d.phoneerror+&quot;&lt;br&gt;&quot;;}else{$(&quot;#telephoneoffice&quot;).removeClass(&quot;redborder&quot;);}$(&quot;#mainerror&quot;).show();$(&quot;#error_div&quot;).html(c);}});return false;}function submitPromocodeform(b){var a=&quot;/payment/validatepromocode&quot;;$(&quot;#processing&quot;).empty().html(&#8216;&lt;img src=&quot;/images/wait.gif&quot; /&gt; &amp;nbsp;&amp;nbsp; Processing Request &#8230;.&#8217;);$.getJSON(a,{promocode:$(&quot;#promocode&quot;).val()},function(d){if(!d){b.action=&quot;/payment/activateprepaid&quot;;b.submit();}else{$(&quot;input[type=&#8217;image&#8217;]&quot;).removeAttr(&quot;disabled&quot;);var c=&quot;&quot;;if(typeof(d.promoemptyErr)!=&quot;undefined&quot;){$(&quot;#promocode&quot;).addClass(&quot;redborder&quot;);c+=d.promoemptyErr+&quot;&lt;br&gt;&quot;;}else{$(&quot;#promocode&quot;).removeClass(&quot;redborder&quot;);}$(&quot;#mainerror&quot;).show();$(&quot;#error_div&quot;).html(c);}});return false;}function submitajax(){var d=$(&quot;#popupcountry&quot;).val();if(typeof(d)!=&quot;undefined&quot;){d=urlencode(d);}else{d=&quot;&quot;;}var c=$(&quot;#popcity&quot;).val();var b=$(&quot;#type&quot;).val();if(d!=&quot;&quot;){var a=&quot;/payment/paymentoption/popup/&quot;+b+&quot;/ajax/true/popcity/&quot;+c+&quot;/popcountry/&quot;+d;}else{var a=&quot;/payment/paymentoption/popup/&quot;+b+&quot;/ajax/true/popcity/&quot;+c;}$(&quot;.addressoverflow&quot;).empty().html(&#8216;&lt;img src=&quot;/images/wait.gif&quot; /&gt;&#8217;);$(&quot;.addressoverflow&quot;).load(a);return false;}function urlencode(b){var a=&quot;&quot;;for(i=0;i&lt;b.length;i++){if(b[i]==&quot; &quot;){a+=&quot;+&quot;;}else{a+=escape(b[i]);}}return a;}function fillCities(){var c=$(&quot;#popupcountry&quot;).val();c=urlencode(c);var b=$(&quot;#type&quot;).val();var a=&quot;/payment/paymentoption/popup/&quot;+b+&quot;/fillcity/true/popcountry/&quot;+c;$(&quot;#citydiv&quot;).load(a);return false;}function setstylesheet(c,a){if(c==&quot;styleblue&quot;){var d=a+&quot;css/stylesmall.css&quot;;var b=a+&quot;css/stylebig.css&quot;;}else{if(c==&quot;stylesmall&quot;){var d=a+&quot;css/stylesmall.css&quot;;var b=a+&quot;css/styleblue.css&quot;;}else{var d=a+&quot;css/stylebig.css&quot;;var b=a+&quot;css/styleblue.css&quot;;}}$(&quot;link[@rel*=style][href]&quot;).each(function(){this.disabled=false;if(this.getAttribute(&quot;href&quot;)==d||this.getAttribute(&quot;href&quot;)==b){this.disabled=true;}});}
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-04-19 23:09:28 <br />
@ Michael Grier: Great! That should obviously fix some windows issues. 

@ Dave: Can you confirm that this solves your problem as well?
<hr />


<strong>
Michael Grier
</strong>
on 2009-04-14 17:12:46 <br />
Without even testing in IE, I can say it should be using a regex in the split, especially when _reading_ from a textarea, because different OSes are going to be using different line break characters, and those characters are _read_ from a textarea. When you put text _into_ a textarea, the browser will insert the correct line break characters, but coming out of a textarea, the code has to deal with it.

So you should do this (windows|*nix|mac):

<pre><code>
r = str.split(/\r\n|\n|\r/)
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-04-14 12:57:43 <br />
@ Dave + Everyone: Is there anybody out there who has IE &amp; can confirm / debug this? Otherwise I will have to see if I can run a virtualized machine or something but that seems like a lot of trouble for one buggy function.
<hr />


<strong>
Dave
</strong>
on 2009-04-09 12:53:35 <br />
Slight problems using with a Textarea in IE6,7,8 

In firefox the script works perfectly, just what I need. However in IE7 and IE8 if you happen to have a space at the end of the line, you get some very strange results (inserts and extra line, every character).  Are you able to update your script so that if a space is at the end of the line, it deletes it(replaces with the \n). I expect it is easy to do, but Iâ€™m not a javascript expert (could do it in VBScript/ASP).

Great script though, works fine in all &quot;proper&quot; browsers, but unfortunately need it to work in IE as well.  Thanks in advance,

Dave
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-10-01 12:24:00 <br />
@ Sakimori: Excellent points Sakimori! I&#8217;ve fixed all of your suggestions (even blog regex ;) Thank you!
<hr />


<strong>
Sakimori
</strong>
on 2008-09-30 21:27:59 <br />
Note that in PHP only the string parameter is required. The rest are optional.
 
The JS function header should just be:
<pre><code>function wordwrap(str)</code></pre>
&#8230; and the function body should begin with:
<pre><code> var int_width = ((arguments.length &amp;gt;= 2) ? arguments[1] : 75   );
    var str_break = ((arguments.length &amp;gt;= 3) ? arguments[2] : &amp;quot;\n&amp;quot; );
    var cut       = ((arguments.length &amp;gt;= 4) ? arguments[3] : false);</code></pre>
Note that 75, new-line, and false are PHP&#8217;s default values for the width, break-string, and cut flag parameters. Feel free to rewrite my code; I write for legibility, not speed.
 
Also of note is that the comment submission form didn&#8217;t want to take my preferred email address. Looks like it doesn&#8217;t like dashes in the domain name. Might want to look over your email validation regexp.
<hr />


<strong>
Homer Villanueva - pinoy programmer
</strong>
on 2008-05-16 04:51:54 <br />
It is a great help for us familiar with php but with only little  knowledge in javascript. Thank you and more power! 

Keep up the work and continue creating good things like this..


I really appreciate using the wordwrap function..
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-04-15 08:22:06 <br />
@ Jonas Raoni: Working now, thank you!
<hr />


<strong>
Jonas Raoni
</strong>
on 2008-04-15 06:38:15 <br />
Awful haha, it was a mistake in the help code, I don&#8217;t check the English version of the site since I&#8217;m brazilian, I&#8217;ve added the missing &amp;lt;/dd&amp;gt; ^^
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-04-13 12:24:29 <br />
@ Jonas Raoni: Your link gives an error in FF3 on Ubuntu: 

<pre><code>
XML Parsing Error: mismatched tag. Expected: &amp;lt;/dd&amp;gt;.
Location: http://jsfromhell.com/string/wordwrap
Line Number 135, Column 4:  &amp;lt;/dl&amp;gt;
----------^
</code></pre>
<hr />


<strong>
Jonas Raoni
</strong>
on 2008-04-12 17:30:16 <br />
Be aware that the modification by Nick Callen over my original wordwrap code breaks this snippet:

alert(wordwrap(&amp;quot;qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq&amp;quot;, 10, &amp;quot;\n&amp;quot;));

The last version is sitted here: http://jsfromhell.com/string/wordwrap
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-22 08:36:38 <br />
@ Andrea Giammarchi: Thanks for helping out. I wasn&#8217;t mentally ready to make exceptions in my generic tester, but hey, sometimes you gotta be flexible.

I also had to change the system to accept:
<pre><code>
define = (function(){
</code></pre>

instead of
<pre><code>
function define(){
</code></pre>

But you&#8217;ll be happy to know that it works now:
http://kevin.vanzonneveld.net/techblog/article/javascript_equivalent_for_phps_define/

So thanks!
<hr />


<strong>
Andrea Giammarchi
</strong>
on 2008-01-21 20:56:20 <br />
Kevin you could know PHP perfectly but you should study a bit more JavaScript :D

<pre><code>
if(!function_exists2('define')){
    document.write('&amp;lt;div class=&amp;quot;bad&amp;quot;&amp;gt;&amp;lt;xmp&amp;gt;n/a&amp;lt;/xmp&amp;gt;&amp;lt;/div&amp;gt;');
    outcom = ['0', 'function does not exist'];
} else {
    result = (function(){
        var result = false;
        define('AUTHOR_NAME', 'Andrea Giammarchi');
        try{result = !!AUTHOR_NAME}catch(e){};
        return  result;
    })();
    should = true;
    outcom = comparer(result, should);
    class = ( outcom[0] &amp;gt; 0 ? 'good' : 'bad' );
    document.write('&amp;lt;div class=&amp;quot;'+class+'&amp;quot;&amp;gt;&amp;lt;xmp&amp;gt;'+print_r2(result)+'&amp;lt;/xmp&amp;gt;&amp;lt;/div&amp;gt;');
}
</code></pre>

cya ;)
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-20 20:37:00 <br />
@ Andrea Giammarchi: Don&#8217;t worry I think it&#8217;s cool and I really want to add it. And by the way, once it&#8217;s added, credits are updated automatically.

But my problem now is that I couldn&#8217;t get define() compatible with my automatic tester:
http://kevin.vanzonneveld.net/pj_tester.php?unstable=true&amp;amp;jsfile=_define.js

So that&#8217;s the reason that I had to put it &#8216;under construction&#8217;. I have to figure out how to solve this.
<hr />


<strong>
Andrea Giammarchi
</strong>
on 2008-01-20 15:50:53 <br />
I wonder why you didn&#8217;t post my comment but you added &amp;quot;define&amp;quot; under construction. Come on guys, define exists and it&#8217;s perfectly compatible with php one since 3 or more months ago.

Please add my name in contributes and good luck with this project.

Cheers
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-10 09:10:11 <br />
@ Jonas Raoni: I&#8217;m going to process all of your links (utf8 is already present though). And judging by the quality of previous functions from your hand, I think it&#8217;s safe to say they&#8217;ll all end up here. Thanks a bunch :)
<hr />


<strong>
Jonas Raoni
</strong>
on 2008-01-10 04:49:45 <br />
array_diff
http://jsfromhell.com/array/diff

date
http://jsfromhell.com/geral/date-format

levenshtein
http://jsfromhell.com/string/levenshtein

bindec/decbin/dechex/etc
http://jsfromhell.com/number/base-conversor

number_format
http://jsfromhell.com/number/fmt-money

setcookie
http://jsfromhell.com/geral/cookie

utf8
http://jsfromhell.com/geral/utf-8

checkdate:
http://jsfromhell.com/geral/is-date

shuffle
http://jsfromhell.com/array/shuffle

pack/unpack
http://jsfromhell.com/classes/binary-parser

array_chunk
http://jsfromhell.com/array/chunk

array_unique 
http://jsfromhell.com/array/remove-duplicated
<hr />


<strong>
AljazB
</strong>
on 2008-01-08 15:48:49 <br />
Awesome, stari!!!
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-01-08 13:42:34 <br />
@ mdsjack: Hi Jack, I have added include() and improved trim() to support &#8216;nbsp&#8217;. strip_tags() was already here. 
Thank you very much for contributing! Kevin
<hr />


<strong>
mdsjack
</strong>
on 2008-01-08 12:36:19 <br />
Here&#8217;s some code I had done for my needs:

<pre><code>
function include(filename) // PHP include() emulation
{ // BY mdsjack (http://www.mdsjack.bo.it)
    var js = document.createElement('script');
    js.setAttribute('type', 'text/javascript');
    js.setAttribute('src', filename);
    js.setAttribute('defer', 'defer');
    document.getElementsByTagName('HEAD')[0].appendChild(js);
};

String.prototype.trim = function() // PHP trim() emulation
{ // BY mdsjack (http://www.mdsjack.bo.it)
    return this.replace(/&amp;amp;nbsp;$/g, ' ').replace(/^\s*|\s*$/g, '');
};

String.prototype.strip_tags = function() // PHP strip_tags() emulation
{ // BY mdsjack (http://www.mdsjack.bo.it)
    return this.replace(/(&amp;lt;([^&amp;gt;]+)&amp;gt;)/ig, ''); 
};

</code></pre>

cheers,
jack.
<hr />


<strong>
BlazS
</strong>
on 2008-01-07 10:52:48 <br />
Awesome! ;)
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/wordwrap/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/wordwrap/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/wordwrap/index.html';
        var disqus_url = 'http://phpjs.org/functions/wordwrap/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
