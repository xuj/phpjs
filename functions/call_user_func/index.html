
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript call_user_func function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript call_user_func function A JavaScript equivalent of PHP&#8217;s call_user_func funchand/call_user_func.js raw on github 1
2
3
4
5
6
7
8
9 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/call_user_func/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <a target="_blank" href="https://github.com/kvz/phpjs">
    <img id="fork-us" style="position: fixed; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
  </a>
  <header role="banner"><hgroup>
  <div id="logo">
    <h1><a href="/">php.js</a></h1>
  	<div class="clear"></div>
  </div>

  
    <h2><strong>A community effort to implement PHP functions in JavaScript</strong></h2>
  
  
    <h2>Learn how to do it in JavaScript. Explore boundaries. Use the functions that turn out to be great.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript call_user_func function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s call_user_func</p>

<figure class='code'><figcaption><span>funchand/call_user_func.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/funchand/call_user_func.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">call_user_func</span> <span class="p">(</span><span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Diplom@t (http://difane.com/)</span>
</span><span class='line'>  <span class="c1">// +   improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// *     example 1: call_user_func(&#39;isNaN&#39;, &#39;a&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: true</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">func</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">cb</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">func</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">[</span><span class="nx">cb</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">[</span><span class="nx">cb</span><span class="p">]</span> <span class="o">:</span> <span class="nx">func</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s1">&#39;return &#39;</span> <span class="o">+</span> <span class="nx">cb</span><span class="p">))();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">cb</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Array]&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">func</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="nb">eval</span><span class="p">(</span><span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;[&#39;&quot;</span> <span class="o">+</span> <span class="nx">cb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&quot;</span><span class="p">)</span> <span class="o">:</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">cb</span><span class="p">[</span><span class="mi">1</span><span class="p">]];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">cb</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">func</span> <span class="o">=</span> <span class="nx">cb</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">func</span> <span class="o">!==</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">func</span> <span class="o">+</span> <span class="s1">&#39; is not a valid function&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">parameters</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nx">parameters</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span> <span class="o">:</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">cb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">parameters</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/funchand/call_user_func.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/funchand/call_user_func.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">call_user_func</span><span class="p">(</span><span class="s1">&#39;isNaN&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the funchand extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/call_user_func">call_user_func</a></li>
<li><a href="/functions/call_user_func_array">call_user_func_array</a></li>
<li><a href="/functions/create_function">create_function</a></li>
<li><a href="/functions/forward_static_call">forward_static_call</a></li>
<li><a href="/functions/forward_static_call_array">forward_static_call_array</a></li>
<li><a href="/functions/func_get_arg">func_get_arg</a></li>
<li><a href="/functions/func_get_args">func_get_args</a></li>
<li><a href="/functions/func_num_args">func_num_args</a></li>
<li><a href="/functions/function_exists">function_exists</a></li>
<li><a href="/functions/get_defined_functions">get_defined_functions</a></li>
<li><a href="/functions/register_shutdown_function">register_shutdown_function</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://opitmami.ru/" rel="nofollow">henryfikse</a>
</strong>
on 2011-12-26 18:24:18 <br />

<hr />


<strong>
<a href="http://googdi57.tk/" rel="nofollow">mashikseli</a>
</strong>
on 2011-12-17 11:40:45 <br />

<hr />


<strong>
gunsilie
</strong>
on 2011-12-16 14:12:43 <br />

<hr />


<strong>
mashikseli
</strong>
on 2011-12-15 08:57:44 <br />

<hr />


<strong>
<a href="http://unin62.tk/" rel="nofollow">ganiselim</a>
</strong>
on 2011-12-14 08:24:54 <br />

<hr />


<strong>
<a href="http://kethough51.tk/" rel="nofollow">sametikaresi</a>
</strong>
on 2011-12-14 02:44:13 <br />

<hr />


<strong>
ganiselim
</strong>
on 2011-12-13 14:52:25 <br />

<hr />


<strong>
<a href="http://orskyl26.tk/" rel="nofollow">Toilbonsill</a>
</strong>
on 2011-12-08 15:15:45 <br />

<hr />


<strong>
Toilbonsill
</strong>
on 2011-12-08 01:21:48 <br />

<hr />


<strong>
ZL@B
</strong>
on 2011-10-10 01:43:17 <br />

<hr />


<strong>
glymninitty2005
</strong>
on 2011-08-10 00:30:07 <br />

<hr />


<strong>
Rhiccadssaria1995
</strong>
on 2011-08-09 03:39:56 <br />

<hr />


<strong>
Ralkekaltep1976
</strong>
on 2011-08-07 23:22:49 <br />

<hr />


<strong>
Bemjuple2008
</strong>
on 2011-08-04 07:53:40 <br />

<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-02-11 02:21:13 <br />
@ Brett Zamir: Yeah sounds good! I will need to do some work on the tester soon. But first the phpjs.org site! The online compiler is coming along nicely have you seen it?
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-02-06 17:32:31 <br />
I don&#8217;t know about the errors with Rhino, but maybe that is due to going through window properties?

I concur with your steps of waiting to build a module, and might suggest also waiting for all arguments to be implemented (unless impossible) for any completed functions.

Is it ok for me to move interface_exists() and get_declared_interfaces() (and to add class_implements()) to not porting? JavaScript has no built-in interfaces, so we could not implement these without adding our own language constructs to JavaScript.
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-02-01 22:55:04 <br />
@ Brett Zamir: They keep giving me 

<pre><code>
Exception in thread &amp;quot;Thread-0&amp;quot; org.mozilla.javascript.EcmaError: TypeError: Cannot read property &amp;quot;prototype&amp;quot; from undefined
</code></pre>

..errors, even when I check for prototype first. Rhino issue maybe.

Concidering the functions that are in unported/notporting, etc. That has never been a scientific process. It was the result of a sleepless night of crawling php.net. It has never been more than a rough guideline and has always been open to suggestions.

Bringing me to SPL. I think that may be taking it to another level. That can be a good or a bad thing, but I think for now we should focus on the normal functions &amp;amp; the site of the project. But that&#8217;s my humble opinion, I&#8217;m open to ideas.

btw I think we should move deprecated functions to _notporting, so that&#8217;s what I did for now. 

As far as the Mozilla thing goes. I have actually never made an extension or anything but Yeah it would be cool if we&#8217;re included at some point. I don&#8217;t know if they&#8217;re interested or anything, but no harm in asking, right?
I do think we should further professionalize PHP.JS before taking such steps though.

In my eyes mainly meaning:
 - bugfixing
 - porting more _unported
 - making everything associative-aware
 - move out the development process to phpjs.org
 - deciding on a good &#8216;default&#8217; package that doesn&#8217;t contain any controversial functions
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-01-31 13:09:33 <br />
Sorry, also realized the new one I just submitted now for get_class_vars() should have variable names changed to reflect the behavior of this function:
<pre><code>
function get_class_vars (name) {
    var constructor, retArr={};
    if (typeof name === 'function') {
        constructor = name;
    }
    else if (typeof name === 'string') {
        constructor = window[name];
    }
    for (var prop in constructor) {
        if (typeof constructor[prop] !== 'function' &amp;amp;&amp;amp; prop !== 'prototype') {
            retArr[prop] = constructor[prop];
        }
    }
     // Comment out this block to behave as &amp;quot;class&amp;quot; is usually defined in JavaScript convention
    for (var prop in constructor.prototype) {
        if (typeof constructor.prototype[prop] !== 'function') {
            retArr[prop] = constructor.prototype[prop];
        }
    }
    return retArr;
}</code></pre>
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-01-31 13:06:40 <br />
Sorry, just realized that get_class_method() returns an associative array. Here it is again, along with get_class_vars() and get_object_vars():

<pre><code>
function Myclass () {this.privMethod = function(){}}
Myclass.classMethod = function () {}
Myclass.prototype.myfunc1 = function () {
    return(true);
};
Myclass.prototype.myfunc2 = function () {
    return(true);
}

whatIs(get_class_methods('Myclass'));
var myClassObj = new Myclass();
whatIs(get_class_methods(myClassObj));


function get_class_methods (name) {
    var constructor, retArr={};
    if (typeof name === 'function') {
        constructor = name;
    }
    else if (typeof name === 'string') {
        constructor = window[name];
    }
    else if (typeof name === 'object') {
        constructor = name;
        for (var method in constructor.constructor) { // Get class methods of object's constructor
            if (typeof constructor.constructor[method] === 'function') {
                retArr[method] = constructor.constructor[method];
            }
        }
        // return retArr; // Uncomment to behave as &amp;quot;class&amp;quot; is usually defined in JavaScript convention (and see comment below)
    }
    for (var method in constructor) {
        if (typeof constructor[method] === 'function') {
            retArr[method] = constructor[method];
        }
    }
     // Comment out this block to behave as &amp;quot;class&amp;quot; is usually defined in JavaScript convention (and see comment above)
    for (var method in constructor.prototype) {
        if (typeof constructor.prototype[method] === 'function') {
            retArr[method] = constructor.prototype[method];
        }
    }
    return retArr;
}</code></pre>

and:

<pre><code>
function Myclass () {this.liveProp = 'prop';}
Myclass.classProp = 'classPropVal';
Myclass.prototype.myprop1 = 1;
Myclass.prototype.myprop2 = 2;
 
whatIs(get_class_vars('Myclass'));
var myClassObj = new Myclass();
myClassObj.prototype = {a:'b'};
   
 
function get_class_vars (name) {
    var constructor, retArr={};
    if (typeof name === 'function') {
        constructor = name;
    }
    else if (typeof name === 'string') {
        constructor = window[name];
    }
    for (var method in constructor) {
        if (typeof constructor[method] !== 'function' &amp;amp;&amp;amp; method !== 'prototype') {
            retArr[method] = constructor[method];
        }
    }
     // Comment out this block to behave as &amp;quot;class&amp;quot; is usually defined in JavaScript convention
    for (var method in constructor.prototype) {
        if (typeof constructor.prototype[method] !== 'function') {
            retArr[method] = constructor.prototype[method];
        }
    }
    return retArr;
}


function get_object_vars (obj) {
    var retArr={};

    for (var prop in obj) {
        if (typeof obj[prop] !== 'function' &amp;amp;&amp;amp; prop !== 'prototype') {
            retArr[prop] = obj[prop];
        }
    }
    for (var prop in obj.prototype) {
        if (typeof obj.prototype[prop] !== 'function') {
            retArr[prop] = obj.prototype[prop];
        }
    }
    return retArr;
}</code></pre>
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-01-31 11:44:54 <br />
Here&#8217;s another&#8230;. get_class_method(). I&#8217;ve left comments on how to get only the &amp;quot;class methods&amp;quot; as typically used in JavaScript (as opposed to PHP) terminology (i.e., not privileged or prototype methods, but those in the class &amp;quot;namespace&amp;quot;).

<pre><code>function Myclass () {this.privMethod = function(){}}
Myclass.classMethod = function () {}
Myclass.prototype.myfunc1 = function () {
    return(true);
};
Myclass.prototype.myfunc2 = function () {
    return(true);
}

alert(get_class_methods('Myclass')); // classMethod,myfunc1,myfunc2
var myClassObj = new Myclass();
alert(get_class_methods(myClassObj));


function get_class_methods (name) {
    var constructor, retArr=[];
    if (typeof name === 'function') {
        constructor = name;
    }
    else if (typeof name === 'string') {
        constructor = window[name];
    }
    else if (typeof name === 'object') {
        constructor = name;
        for (var method in constructor.constructor) { // Get class methods of object's constructor
            if (typeof constructor.constructor[method] === 'function') {
                retArr.push(method);
            }
        }
        // return retArr; // Uncomment to behave as &amp;quot;class&amp;quot; is usually defined in JavaScript convention (and see comment below)
    }
    for (var method in constructor) {
        if (typeof constructor[method] === 'function') {
            retArr.push(method);
        }
    }
     // Comment out this block to behave as &amp;quot;class&amp;quot; is usually defined in JavaScript convention (and see comment above)
    for (var method in constructor.prototype) {
        if (typeof constructor.prototype[method] === 'function') {
            retArr.push(method);
        }
    }
    return retArr;
}</code></pre>
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-01-31 07:45:46 <br />
Also, for get_declared_interfaces() and interface_exists() (and class_implements() but you don&#8217;t seem to have these in your imported list: http://cn.php.net/manual/en/ref.spl.php &#8211; btw, is it easy to say which modules you included/excluded?), since JavaScript offers no formal way to implement interfaces, do you want to move these to not porting? We could implement our own interface system (which even checked the number of arguments, etc.) and which worked with these PHP-named functions, but I presume that is beyond your intended scope here (though it would be pretty cool to pseudo-standardize on an interface system for JavaScript, at least until JS 2.0).

Off the topic, as far as the php_js global, in the namespaced version of PHP.JS, you could put that at the top of the (function())() closure namespacing, so it wasn&#8217;t actually global.

And another off-the-topic, https://wiki.mozilla.org/Labs/JS_Modules , they state there &amp;quot;If you would like to contribute a new module, get in touch with us at #labs!&amp;quot;, so at whatever point you think we have something, we can submit a PHP-JS module for Mozilla so a bunch of extensions (and the same extension) could be able to reuse the module without any additional loading cost!
<hr />


<strong>
<a href="http://bahai-library.com" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-01-31 06:57:30 <br />
Hi Kevin,

call_user_method() and call_user_method_array() are now deprecated in PHP in favor of call_user_function (with the array argument). Do you want to move to not porting, or use the following?

<pre><code>function call_user_method(method, obj) {
    // http://kevin.vanzonneveld.net
    // +   original by: Brett Zamir

    var func = eval(obj+&amp;quot;['&amp;quot;+method+&amp;quot;']&amp;quot;);
    
    if (typeof func != 'function') {
        throw new Exception(func + ' is not a valid method');
    }
 
    return func.apply(null, Array.prototype.slice.call(arguments, 2));
}


function call_user_method_array(method, obj, params) {
    // http://kevin.vanzonneveld.net
    // +   original by: Brett Zamir

    var func = eval(obj+&amp;quot;['&amp;quot;+method+&amp;quot;']&amp;quot;);
    
    if (typeof func != 'function') {
        throw new Exception(func + ' is not a valid method');
    }
 
    return func.apply(null, params);
}</code></pre>
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/call_user_func/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/call_user_func/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/call_user_func/index.html';
        var disqus_url = 'http://phpjs.org/functions/call_user_func/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
