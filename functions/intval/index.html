
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript intval function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript intval function A JavaScript equivalent of PHP&#8217;s intval var/intval.js raw on github 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/intval/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <a target="_blank" href="https://github.com/kvz/phpjs">
    <img id="fork-us" style="position: fixed; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
  </a>
  <header role="banner"><hgroup>
  <div id="logo">
    <h1><a href="/">php.js</a></h1>
  	<div class="clear"></div>
  </div>

  
    <h2><strong>A community effort to implement PHP functions in JavaScript</strong> - Learn how to do it in JavaScript. Explore boundaries. Use the functions that turn out to be great.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript intval function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s intval</p>

<figure class='code'><figcaption><span>var/intval.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/var/intval.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">intval</span> <span class="p">(</span><span class="nx">mixed_var</span><span class="p">,</span> <span class="nx">base</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +   improved by: stensi</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'>  <span class="c1">// +   input by: Matteo</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// +   bugfixed by: Rafał Kukawski (http://kukawski.pl)</span>
</span><span class='line'>  <span class="c1">// *     example 1: intval(&#39;Kevin van Zonneveld&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: 0</span>
</span><span class='line'>  <span class="c1">// *     example 2: intval(4.2);</span>
</span><span class='line'>  <span class="c1">// *     returns 2: 4</span>
</span><span class='line'>  <span class="c1">// *     example 3: intval(42, 8);</span>
</span><span class='line'>  <span class="c1">// *     returns 3: 42</span>
</span><span class='line'>  <span class="c1">// *     example 4: intval(&#39;09&#39;);</span>
</span><span class='line'>  <span class="c1">// *     returns 4: 9</span>
</span><span class='line'>  <span class="c1">// *     example 5: intval(&#39;1e&#39;, 16);</span>
</span><span class='line'>  <span class="c1">// *     returns 5: 30</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">tmp</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">typeof</span><span class="p">(</span><span class="nx">mixed_var</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;boolean&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="o">+</span><span class="nx">mixed_var</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">tmp</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">mixed_var</span><span class="p">,</span> <span class="nx">base</span> <span class="o">||</span> <span class="mi">10</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">tmp</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nb">isFinite</span><span class="p">(</span><span class="nx">tmp</span><span class="p">))</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">tmp</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;number&#39;</span> <span class="o">&amp;&amp;</span> <span class="nb">isFinite</span><span class="p">(</span><span class="nx">mixed_var</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">mixed_var</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/var/intval.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/var/intval.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">intval</span><span class="p">(</span><span class="s1">&#39;Kevin van Zonneveld&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 2</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">intval</span><span class="p">(</span><span class="mf">4.2</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="mi">4</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example 3</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">intval</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="mi">42</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the var extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/doubleval">doubleval</a></li>
<li><a href="/functions/empty">empty</a></li>
<li><a href="/functions/floatval">floatval</a></li>
<li><a href="/functions/get_defined_vars">get_defined_vars</a></li>
<li><a href="/functions/get_resource_type">get_resource_type</a></li>
<li><a href="/functions/gettype">gettype</a></li>
<li><a href="/functions/import_request_variables">import_request_variables</a></li>
<li><a href="/functions/intval">intval</a></li>
<li><a href="/functions/is_array">is_array</a></li>
<li><a href="/functions/is_binary">is_binary</a></li>
<li><a href="/functions/is_bool">is_bool</a></li>
<li><a href="/functions/is_buffer">is_buffer</a></li>
<li><a href="/functions/is_callable">is_callable</a></li>
<li><a href="/functions/is_double">is_double</a></li>
<li><a href="/functions/is_float">is_float</a></li>
<li><a href="/functions/is_int">is_int</a></li>
<li><a href="/functions/is_integer">is_integer</a></li>
<li><a href="/functions/is_long">is_long</a></li>
<li><a href="/functions/is_null">is_null</a></li>
<li><a href="/functions/is_numeric">is_numeric</a></li>
<li><a href="/functions/is_object">is_object</a></li>
<li><a href="/functions/is_real">is_real</a></li>
<li><a href="/functions/is_resource">is_resource</a></li>
<li><a href="/functions/is_scalar">is_scalar</a></li>
<li><a href="/functions/is_string">is_string</a></li>
<li><a href="/functions/is_unicode">is_unicode</a></li>
<li><a href="/functions/isset">isset</a></li>
<li><a href="/functions/print_r">print_r</a></li>
<li><a href="/functions/serialize">serialize</a></li>
<li><a href="/functions/settype">settype</a></li>
<li><a href="/functions/strval">strval</a></li>
<li><a href="/functions/unserialize">unserialize</a></li>
<li><a href="/functions/var_dump">var_dump</a></li>
<li><a href="/functions/var_export">var_export</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://an3m1.com/" rel="nofollow">???? ????</a>
</strong>
on 2012-04-04 14:33:53 <br />
Write more, that’s all I have to say. Literally, it seems as though you relied on the video to make your point. You clearly know what you’re talking about, why waste your intelligence on just posting videos to your blog when you could be giving us something enlightening to read 
<hr />


<strong>
<a href="http://ironmagma.com/" rel="nofollow">Philip Peterson</a>
</strong>
on 2010-12-06 14:22:13 <br />
Just want to point out that if the base is 10, we should be using ~~&quot;32&quot; (e.g.) instead of parseInt, as it is MUCH faster. http://jsperf.com/bitwise-not-not-vs-parseint
<hr />


<strong>
zeroneta
</strong>
on 2010-01-05 22:04:05 <br />
后面那个是有问题的 没有把 a 正确 传递

请使用 意思为这个的
<pre><code>
_.intval = function( a, s )
{
        return is_bool( a ) ? a * 1 : _._.isFinite( a = _._.parseInt( a, s || 10 ) ) ? a : 0;
},
</code></pre>
<hr />


<strong>
zeroneta
</strong>
on 2010-01-05 22:01:10 <br />
<pre><code>
_.intval = function( a, s )
{
    return is_bool( a ) ? a * 1 : _._.isFinite( a = _._.parseInt( a, s || 10 ) ) ? a : 0;
},
</code></pre>
或者
<pre><code>
_.intval = function( a, s )
{
    return is_bool( a ) ? a * 1 : _._.parseInt( a, s || 10 ) ? a : 0;
},
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2009-10-08 14:17:24 <br />
@ Brett Zamir: Thanks for fixing friend. I found there was an issue with the deployment. I fixed that just now.
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-10-06 20:38:55 <br />
For now please see http://github.com/kvz/phpjs/blob/147b53a515907136c7804fe93f4bfb75a9c39d01/functions/var/intval.js &#8211; the change hasn&#8217;t yet come through the site.
<hr />


<strong>
Stefan Richter
</strong>
on 2009-10-06 17:00:06 <br />
I thought this function returns a number like PHP, not a string.
E.g. expected
 intval(&#8216;1&#8217;) + 1 = 2
but the result of this is &#8216;11&#8217;.
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-09-17 05:25:12 <br />
@JD Kasinsky: Yes, parseInt will often do the trick, but we&#8217;re shooting for exact PHP behavior here&#8230;
<hr />


<strong>
<a href="http://brett-zamir.me" rel="nofollow">Brett Zamir</a>
</strong>
on 2009-09-17 05:22:30 <br />
@Matteo: Glad you caught that. Fixed in git (also did some other clean-up). For now, see latest version at http://github.com/kvz/phpjs/commits/master/functions/var/intval.js
<hr />


<strong>
<a href="http://www.caboom.tv" rel="nofollow">JD Kasinsky</a>
</strong>
on 2009-09-17 01:04:28 <br />
This function should work in the most cases: 

<pre><code>
    var v='10px';
    v=parseInt(v);
    alert(v);
</code></pre>

Bye
JD

<hr />


<strong>
Matteo
</strong>
on 2009-09-16 16:37:08 <br />
using this function as above, if I do something like

<pre><code>
alert(is_integer(intval('12')))
</code></pre>

I always get FALSE while I&#8217;d expect to get TRUE. This happens &#8216;cause if the argument is a string, you return a string and not a number. Why is so? Shouldn&#8217;t intval always return a number?
<hr />


<strong>
mkl.keck
</strong>
on 2009-03-06 16:12:52 <br />
Imprived function intval:

<pre><code>
function intval() {
    var a = arguments;
    var v = a[0];
    var t = typeof(a[0])
    var b = ( (typeof(a[1]) !== 'undefined' &amp;amp;&amp;amp; !isNaN(a[1])) ? parseInt(a[1]) : 10 );
    switch (t.substring(0, 1).toLowerCase()) {
        case 'b':
            return ( (v === true) ? 1 : 0 );
        case 's':
            var r = parseInt(v * 1);
            return ( (!isNaN(v) &amp;amp;&amp;amp; isFinite(v)) ? r.toString(b) : 0 );
        case 'n':
            return ( isFinite(v) ? Math.floor(v) : 0 );
        default:
            return 0;
    }
}
</code></pre>
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-05-31 14:19:59 <br />
@ Alex: Thank you Alex. Added!
<hr />


<strong>
Alex
</strong>
on 2008-05-30 15:10:13 <br />
function isInt(x) 
{
var y=parseInt(x);
if (isNaN(y)) return false;
return x==y &amp;amp;&amp;amp; x.toString()==y.toString();
}

taken from http://community.livejournal.com/nullzone/1223.html
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-05-14 21:55:11 <br />
@ stenci: Thanks a lot for your improvements stensi!
<hr />


<strong>
stensi
</strong>
on 2008-05-14 04:33:39 <br />
Sorry for double post.  I didn&#8217;t give the correct code syntax highlighting first time round.

I noticed I the example I gave had an incorrect call:

<pre><code>
alert( intval_modified(num) );
</code></pre>

Should of course be:


<pre><code>
alert( intval(num) );
</code></pre>
<hr />


<strong>
stensi
</strong>
on 2008-05-14 04:29:49 <br />
Just stumbled across your PHP.js library, awesome work Kevin :)

I think your intval could be improved a little to handle JavaScripts &amp;quot;Infinity&amp;quot; value.

for example, using current PHP.js intval:
<pre><code>
function intval( mixed_var, base ) {
    // http://kevin.vanzonneveld.net
    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // *     example 1: intval('Kevin van Zonneveld');
    // *     returns 1: 0
    // *     example 2: intval(4.2);
    // *     returns 2: 4
    // *     example 3: intval(42, 8);
    // *     returns 3: 42
 
    var tmp;
 
    if( typeof( mixed_var ) == 'string' ){
        tmp = parseInt(mixed_var);
        if(isNaN(tmp)){
            return 0;
        } else{
            return tmp.toString(base || 10);
        }
    } else if( typeof( mixed_var ) == 'number' ){
        return Math.floor(mixed_var);
    } else{
        return 0;
    }
}

// set num to: Infinity
var num = 1 / 0;

// using current PHP.js intval returns: Infinity
alert( intval(num) );

// Output: Infinity
</code></pre>


Using modified intval to handle Infinity:
<pre><code>
function intval( mixed_var, base ) {
    // http://kevin.vanzonneveld.net
    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // *     example 1: intval('Kevin van Zonneveld');
    // *     returns 1: 0
    // *     example 2: intval(4.2);
    // *     returns 2: 4
    // *     example 3: intval(42, 8);
    // *     returns 3: 42
 
    var tmp;
 
    if( typeof( mixed_var ) == 'string' ){
        tmp = parseInt(mixed_var);
        if(isNaN(tmp) || !isFinite(tmp)){
            return 0;
        } else{
            return tmp.toString(base || 10);
        }
    } else if( typeof( mixed_var ) == 'number' &amp;amp;&amp;amp; isFinite(mixed_var) ){
        return Math.floor(mixed_var);
    } else{
        return 0;
    }
}

// set num to: Infinity
var num = 1 / 0;

// using intval_modified to handle Infinity returns: 0
alert( intval_modified(num) );

// Output: 0
</code></pre>

Basically, the changes are:
<pre><code>if(isNaN(tmp)){</code></pre>
to:
<pre><code>if(isNaN(tmp) || !isFinite(tmp)){</code></pre>

and&#8230;

<pre><code>} else if( typeof( mixed_var ) == 'number' ){</code></pre>
to:
<pre><code>} else if( typeof( mixed_var ) == 'number' &amp;amp;&amp;amp; isFinite(mixed_var) ){</code></pre>
<hr />


<strong>
stensi
</strong>
on 2008-05-14 04:27:38 <br />
Just stumbled across your PHP.js library, awesome work Kevin :)

I think your intval could be improved a little to handle JavaScripts &amp;quot;Infinity&amp;quot; value better.

For example, using current PHP.js intval:
<pre><code>
function intval( mixed_var, base ) {
    // http://kevin.vanzonneveld.net
    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // *     example 1: intval('Kevin van Zonneveld');
    // *     returns 1: 0
    // *     example 2: intval(4.2);
    // *     returns 2: 4
    // *     example 3: intval(42, 8);
    // *     returns 3: 42
 
    var tmp;
 
    if( typeof( mixed_var ) == 'string' ){
        tmp = parseInt(mixed_var);
        if(isNaN(tmp)){
            return 0;
        } else{
            return tmp.toString(base || 10);
        }
    } else if( typeof( mixed_var ) == 'number' ){
        return Math.floor(mixed_var);
    } else{
        return 0;
    }
}

// set num to: Infinity
var num = 1 / 0;

// using current PHP.js intval returns: Infinity
alert( intval(num) );

// Output: Infinity
</code></pre>


Using modified intval to handle Infinity:
<pre><code>
function intval( mixed_var, base ) {
    // http://kevin.vanzonneveld.net
    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // *     example 1: intval('Kevin van Zonneveld');
    // *     returns 1: 0
    // *     example 2: intval(4.2);
    // *     returns 2: 4
    // *     example 3: intval(42, 8);
    // *     returns 3: 42
 
    var tmp;
 
    if( typeof( mixed_var ) == 'string' ){
        tmp = parseInt(mixed_var);
        if(isNaN(tmp) || !isFinite(tmp)){
            return 0;
        } else{
            return tmp.toString(base || 10);
        }
    } else if( typeof( mixed_var ) == 'number' &amp;amp;&amp;amp; isFinite(mixed_var) ){
        return Math.floor(mixed_var);
    } else{
        return 0;
    }
}

// set num to: Infinity
var num = 1 / 0;

// using intval_modified to handle Infinity returns: 0
alert( intval_modified(num) );

// Output: 0
</code></pre>

Basically, the changes are:
<pre><code>if(isNaN(tmp)){</code></pre>
to:
<pre><code>if(isNaN(tmp) || !isFinite(tmp)){</code></pre>

and&#8230;

<pre><code>} else if( typeof( mixed_var ) == 'number' ){</code></pre>
to:
<pre><code>} else if( typeof( mixed_var ) == 'number' &amp;amp;&amp;amp; isFinite(mixed_var) ){</code></pre>
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/intval/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/intval/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/intval/index.html';
        var disqus_url = 'http://phpjs.org/functions/intval/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
