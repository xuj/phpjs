
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaScript log function - php.js</title>
  <meta name="author" content="Kevin van Zonneveld">

  
  <meta name="description" content="JavaScript log function A JavaScript equivalent of PHP&#8217;s log math/log.js raw on github 1
2
3
4
5
6
7
8
9
10
function log (arg, base) { // http &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://phpjs.org/functions/log/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="php.js" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-63083-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <a target="_blank" href="https://github.com/kvz/phpjs">
    <img id="fork-us" style="position: fixed; z-index: 99; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
  </a>
  <header role="banner"><hgroup>
  <div id="logo">
    <h1><a href="/">php.js</a></h1>
  	<div class="clear"></div>
  </div>

  
  
    <h2>Learn how to do it in JavaScript. Explore boundaries porting languages. Enjoy functions that turn out to be useful.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:phpjs.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Blog</a></li>
  <li><a href="/functions">Functions</a></li>
  <li><a href="/authors">Authors</a></li>
  <li><a target="_blank" href="https://github.com/kvz/phpjs/wiki/_pages">Wiki</a></li>
  <li><a target="_blank"  href="http://twitter.com/phpjs">@phpjs</a></li>
  <li><a target="_blank"  href="http://identi.ca/brettz9">@brettz9</a></li>
  <li><a target="_blank"  href="http://twitter.com/kvz">@kvz</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">JavaScript log function</h1>
    
  </header>
  
  <!-- Generated by Rakefile:build -->


<p>A JavaScript equivalent of PHP&#8217;s log</p>

<figure class='code'><figcaption><span>math/log.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/math/log.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">log</span> <span class="p">(</span><span class="nx">arg</span><span class="p">,</span> <span class="nx">base</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'>  <span class="c1">// +   original by: Onno Marsman</span>
</span><span class='line'>  <span class="c1">// +   improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'>  <span class="c1">// *     example 1: log(8723321.4, 7);</span>
</span><span class='line'>  <span class="c1">// *     returns 1: 8.212871815082147</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">base</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="o">?</span>
</span><span class='line'>    <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="o">:</span>
</span><span class='line'>    <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">base</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><a href="https://github.com/kvz/phpjs/blob/master/functions/math/log.js">view on github</a></li>
<li><a href="https://github.com/kvz/phpjs/edit/master/functions/math/log.js">edit on github</a></li>
</ul>


<h3>Example 1</h3>

<p>This code</p>

<figure class='code'><figcaption><span>example </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">log</span><span class="p">(</span><span class="mf">8723321.4</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should return</p>

<figure class='code'><figcaption><span>returns </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="mf">8.212871815082147</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Other PHP functions in the math extension</h3>

<!-- Generated by Rakefile:build -->


<ul>
<li><a href="/functions/abs">abs</a></li>
<li><a href="/functions/acos">acos</a></li>
<li><a href="/functions/acosh">acosh</a></li>
<li><a href="/functions/asin">asin</a></li>
<li><a href="/functions/asinh">asinh</a></li>
<li><a href="/functions/atan">atan</a></li>
<li><a href="/functions/atan2">atan2</a></li>
<li><a href="/functions/atanh">atanh</a></li>
<li><a href="/functions/base_convert">base_convert</a></li>
<li><a href="/functions/bindec">bindec</a></li>
<li><a href="/functions/ceil">ceil</a></li>
<li><a href="/functions/cos">cos</a></li>
<li><a href="/functions/cosh">cosh</a></li>
<li><a href="/functions/decbin">decbin</a></li>
<li><a href="/functions/dechex">dechex</a></li>
<li><a href="/functions/decoct">decoct</a></li>
<li><a href="/functions/deg2rad">deg2rad</a></li>
<li><a href="/functions/exp">exp</a></li>
<li><a href="/functions/expm1">expm1</a></li>
<li><a href="/functions/floor">floor</a></li>
<li><a href="/functions/fmod">fmod</a></li>
<li><a href="/functions/getrandmax">getrandmax</a></li>
<li><a href="/functions/hexdec">hexdec</a></li>
<li><a href="/functions/hypot">hypot</a></li>
<li><a href="/functions/is_finite">is_finite</a></li>
<li><a href="/functions/is_infinite">is_infinite</a></li>
<li><a href="/functions/is_nan">is_nan</a></li>
<li><a href="/functions/lcg_value">lcg_value</a></li>
<li><a href="/functions/log">log</a></li>
<li><a href="/functions/log10">log10</a></li>
<li><a href="/functions/log1p">log1p</a></li>
<li><a href="/functions/max">max</a></li>
<li><a href="/functions/min">min</a></li>
<li><a href="/functions/mt_getrandmax">mt_getrandmax</a></li>
<li><a href="/functions/mt_rand">mt_rand</a></li>
<li><a href="/functions/octdec">octdec</a></li>
<li><a href="/functions/pi">pi</a></li>
<li><a href="/functions/pow">pow</a></li>
<li><a href="/functions/rad2deg">rad2deg</a></li>
<li><a href="/functions/rand">rand</a></li>
<li><a href="/functions/round">round</a></li>
<li><a href="/functions/sin">sin</a></li>
<li><a href="/functions/sinh">sinh</a></li>
<li><a href="/functions/sqrt">sqrt</a></li>
<li><a href="/functions/tan">tan</a></li>
<li><a href="/functions/tanh">tanh</a></li>
</ul>


<h2>Legacy comments</h2>

<p>These were imported from our old site. Please use disqus below for new comments</p>

<div style="overflow-y: scroll; max-height: 500px;">
<!-- Generated by Rakefile:build -->

<strong>
<a href="http://an3m1.com/" rel="nofollow">????? ????? ???</a>
</strong>
on 2012-03-22 13:52:35 <br />
New in the world of news and news of new articles added 
<hr />


<strong>
<a href="http://kevin.vanzonneveld.net" rel="nofollow">Kevin van Zonneveld</a>
</strong>
on 2008-10-20 18:38:04 <br />
@ Onno Marsman &amp;amp; Philip Peterson: Thanks for both of your efforts. I&#8217;ve ran the script
<hr />


<strong>
Onno Marsman
</strong>
on 2008-10-16 09:35:25 <br />
Philip: I&#8217;ve checked for the behavior of the already present log function and it seems to already return NaN and -Infinity in the cases you&#8217;ve specified. So I don&#8217;t see why the extra checks are necessary.

This is the same for your log10 function.
I&#8217;ve added log10 to the repositroy without the checks and credited you for your efforts. It will be visible on this site as soon as Kevin runs his scripts to do so.
<hr />


<strong>
Philip Peterson
</strong>
on 2008-10-15 23:00:51 <br />
Wow, strange, one would think that log() would be the common log and ln() (or something) would be the natural log.  Oh well, here&#8217;s the revised code, with your other suggestions as well:

<pre><code>
function log(arg, base) {
 
    if (base === undefined) {
        return Math.log(arg);
    } else {
        return (arg == undefined || arg == 0) ? (-Infinity) : (arg &amp;lt; 0) ? (NaN) : (Math.log(arg)/Math.log(base));
    }
}

function log10(arg) {
    // http://kevin.vanzonneveld.net
    // * example 1: log10(10);
    // * returns 1: 1
    // * example 1: log10(1);
    // * returns 1: 0
    return (arg == undefined || arg == 0) ? (-Infinity) : (arg &amp;lt; 0) ? (NaN) : Math.log(arg)/Math.log(10);
}
</code></pre>

how&#8217;s it look?
<hr />


<strong>
Onno Marsman
</strong>
on 2008-10-15 09:37:09 <br />
Philip: Maybe you would want to look at this again:
- Math.log return the natural logarithm with a base of e and not 10. I haven&#8217;t tested it but I doubt PHP and javascript would return the same value with this implementation.
- &amp;quot;-INF&amp;quot; and &amp;quot;NaN&amp;quot; are not valid javascript representations of these values. -Infinity and NaN (without quotes) should be used.
<hr />


<strong>
Philip Peterson
</strong>
on 2008-10-15 00:50:28 <br />
In fact, log() has a similar discrepancy:

<pre><code>
function log(arg, base) {
 
    if (base === undefined) {
        return Math.log(arg);
    } else {
        return (arg == undefined || arg == 0) ? (&amp;quot;-INF&amp;quot;) : (arg &amp;lt; 0) ? (&amp;quot;NAN&amp;quot;) : (Math.log(arg)/Math.log(base));
    }
}
</code></pre>

I&#8217;m also not sure if I should be using === when I&#8217;m using == in this post and previous posts, so perhaps someone more knowledgeable about that sort of thing should check it out.
<hr />


<strong>
Philip Peterson
</strong>
on 2008-10-15 00:46:21 <br />
Actually, a small fix:

<pre><code>

function log10(arg) {
    // http://kevin.vanzonneveld.net
    // * example 1: log(10);
    // * returns 1: 1
    // * example 1: log(1);
    // * returns 1: 0
    return (arg == undefined || arg == 0) ? (&amp;quot;-INF&amp;quot;) : (arg &amp;lt; 0) ? (&amp;quot;NAN&amp;quot;) : Math.log(arg);
}

</code></pre>
<hr />


<strong>
Philip Peterson
</strong>
on 2008-10-14 23:31:45 <br />
function log10(arg) {
    // http://kevin.vanzonneveld.net
    // *     example 1: log(10);
    // *     returns 1: 1
    // *     example 1: log(1);
    // *     returns 1: 0
        return Math.log(arg);
}
<hr />


</div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://phpjs.org/functions/log/index.html" data-via="phpjs" data-counturl="http://phpjs.org/functions/log/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kevin van Zonneveld -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
   -
  <span class="credit">Theme by <a href="http://melandri.net/2012/07/23/darkstripes-octopress-theme-released/">alessandro melandri</a></span>
</p>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'phpjs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://phpjs.org/functions/log/index.html';
        var disqus_url = 'http://phpjs.org/functions/log/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
